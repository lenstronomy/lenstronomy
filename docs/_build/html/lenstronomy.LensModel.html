
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>lenstronomy.LensModel package &#8212; lenstronomy 1.9.3 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="lenstronomy.LensModel.LightConeSim package" href="lenstronomy.LensModel.LightConeSim.html" />
    <link rel="prev" title="lenstronomy.ImSim.Numerics package" href="lenstronomy.ImSim.Numerics.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="lenstronomy.LensModel.LightConeSim.html" title="lenstronomy.LensModel.LightConeSim package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="lenstronomy.ImSim.Numerics.html" title="lenstronomy.ImSim.Numerics package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">lenstronomy 1.9.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="lenstronomy.html" accesskey="U">lenstronomy package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">lenstronomy.LensModel package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="lenstronomy-lensmodel-package">
<h1>lenstronomy.LensModel package<a class="headerlink" href="#lenstronomy-lensmodel-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="lenstronomy.LensModel.LightConeSim.html">lenstronomy.LensModel.LightConeSim package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.LightConeSim.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.LightConeSim.html#module-lenstronomy.LensModel.LightConeSim.light_cone">lenstronomy.LensModel.LightConeSim.light_cone module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.LightConeSim.html#module-lenstronomy.LensModel.LightConeSim">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lenstronomy.LensModel.LineOfSight.html">lenstronomy.LensModel.LineOfSight package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.LineOfSight.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lenstronomy.LensModel.LineOfSight.LOSModels.html">lenstronomy.LensModel.LineOfSight.LOSModels package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="lenstronomy.LensModel.LineOfSight.LOSModels.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="lenstronomy.LensModel.LineOfSight.LOSModels.html#module-lenstronomy.LensModel.LineOfSight.LOSModels.los">lenstronomy.LensModel.LineOfSight.LOSModels.los module</a></li>
<li class="toctree-l4"><a class="reference internal" href="lenstronomy.LensModel.LineOfSight.LOSModels.html#module-lenstronomy.LensModel.LineOfSight.LOSModels.los_minimal">lenstronomy.LensModel.LineOfSight.LOSModels.los_minimal module</a></li>
<li class="toctree-l4"><a class="reference internal" href="lenstronomy.LensModel.LineOfSight.LOSModels.html#module-lenstronomy.LensModel.LineOfSight.LOSModels">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.LineOfSight.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.LineOfSight.html#module-lenstronomy.LensModel.LineOfSight.single_plane_los">lenstronomy.LensModel.LineOfSight.single_plane_los module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.LineOfSight.html#module-lenstronomy.LensModel.LineOfSight">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lenstronomy.LensModel.MultiPlane.html">lenstronomy.LensModel.MultiPlane package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.MultiPlane.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.MultiPlane.html#module-lenstronomy.LensModel.MultiPlane.multi_plane">lenstronomy.LensModel.MultiPlane.multi_plane module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.MultiPlane.html#module-lenstronomy.LensModel.MultiPlane.multi_plane_base">lenstronomy.LensModel.MultiPlane.multi_plane_base module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.MultiPlane.html#module-lenstronomy.LensModel.MultiPlane">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html">lenstronomy.LensModel.Profiles package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.arc_perturbations">lenstronomy.LensModel.Profiles.arc_perturbations module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.base_profile">lenstronomy.LensModel.Profiles.base_profile module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.chameleon">lenstronomy.LensModel.Profiles.chameleon module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.cnfw">lenstronomy.LensModel.Profiles.cnfw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.cnfw_ellipse">lenstronomy.LensModel.Profiles.cnfw_ellipse module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.const_mag">lenstronomy.LensModel.Profiles.const_mag module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.constant_shift">lenstronomy.LensModel.Profiles.constant_shift module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.convergence">lenstronomy.LensModel.Profiles.convergence module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.coreBurkert">lenstronomy.LensModel.Profiles.coreBurkert module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.cored_density">lenstronomy.LensModel.Profiles.cored_density module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.cored_density_2">lenstronomy.LensModel.Profiles.cored_density_2 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.cored_density_exp">lenstronomy.LensModel.Profiles.cored_density_exp module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.cored_density_mst">lenstronomy.LensModel.Profiles.cored_density_mst module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.curved_arc_const">lenstronomy.LensModel.Profiles.curved_arc_const module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.curved_arc_sis_mst">lenstronomy.LensModel.Profiles.curved_arc_sis_mst module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.curved_arc_spp">lenstronomy.LensModel.Profiles.curved_arc_spp module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.curved_arc_spt">lenstronomy.LensModel.Profiles.curved_arc_spt module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.curved_arc_tan_diff">lenstronomy.LensModel.Profiles.curved_arc_tan_diff module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.dipole">lenstronomy.LensModel.Profiles.dipole module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.elliptical_density_slice">lenstronomy.LensModel.Profiles.elliptical_density_slice module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.epl">lenstronomy.LensModel.Profiles.epl module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.epl_numba">lenstronomy.LensModel.Profiles.epl_numba module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.flexion">lenstronomy.LensModel.Profiles.flexion module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.flexionfg">lenstronomy.LensModel.Profiles.flexionfg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.gauss_decomposition">lenstronomy.LensModel.Profiles.gauss_decomposition module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.gaussian_ellipse_kappa">lenstronomy.LensModel.Profiles.gaussian_ellipse_kappa module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.gaussian_ellipse_potential">lenstronomy.LensModel.Profiles.gaussian_ellipse_potential module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.gaussian_kappa">lenstronomy.LensModel.Profiles.gaussian_kappa module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.gaussian_potential">lenstronomy.LensModel.Profiles.gaussian_potential module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.hernquist">lenstronomy.LensModel.Profiles.hernquist module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.hernquist_ellipse">lenstronomy.LensModel.Profiles.hernquist_ellipse module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.hessian">lenstronomy.LensModel.Profiles.hessian module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.interpol">lenstronomy.LensModel.Profiles.interpol module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.multi_gaussian_kappa">lenstronomy.LensModel.Profiles.multi_gaussian_kappa module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.multipole">lenstronomy.LensModel.Profiles.multipole module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.nfw">lenstronomy.LensModel.Profiles.nfw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.nfw_ellipse">lenstronomy.LensModel.Profiles.nfw_ellipse module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.nfw_mass_concentration">lenstronomy.LensModel.Profiles.nfw_mass_concentration module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.nfw_vir_trunc">lenstronomy.LensModel.Profiles.nfw_vir_trunc module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.nie">lenstronomy.LensModel.Profiles.nie module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.nie_potential">lenstronomy.LensModel.Profiles.nie_potential module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.numerical_deflections">lenstronomy.LensModel.Profiles.numerical_deflections module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.p_jaffe">lenstronomy.LensModel.Profiles.p_jaffe module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.p_jaffe_ellipse">lenstronomy.LensModel.Profiles.p_jaffe_ellipse module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.pemd">lenstronomy.LensModel.Profiles.pemd module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.point_mass">lenstronomy.LensModel.Profiles.point_mass module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.sersic">lenstronomy.LensModel.Profiles.sersic module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.sersic_ellipse_kappa">lenstronomy.LensModel.Profiles.sersic_ellipse_kappa module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.sersic_ellipse_potential">lenstronomy.LensModel.Profiles.sersic_ellipse_potential module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.sersic_utils">lenstronomy.LensModel.Profiles.sersic_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.shapelet_pot_cartesian">lenstronomy.LensModel.Profiles.shapelet_pot_cartesian module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.shapelet_pot_polar">lenstronomy.LensModel.Profiles.shapelet_pot_polar module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.shear">lenstronomy.LensModel.Profiles.shear module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.sie">lenstronomy.LensModel.Profiles.sie module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.sis">lenstronomy.LensModel.Profiles.sis module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.sis_truncate">lenstronomy.LensModel.Profiles.sis_truncate module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.spemd">lenstronomy.LensModel.Profiles.spemd module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.spep">lenstronomy.LensModel.Profiles.spep module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.splcore">lenstronomy.LensModel.Profiles.splcore module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.spp">lenstronomy.LensModel.Profiles.spp module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.tnfw">lenstronomy.LensModel.Profiles.tnfw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.uldm">lenstronomy.LensModel.Profiles.uldm module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lenstronomy.LensModel.QuadOptimizer.html">lenstronomy.LensModel.QuadOptimizer package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.QuadOptimizer.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.QuadOptimizer.html#module-lenstronomy.LensModel.QuadOptimizer.multi_plane_fast">lenstronomy.LensModel.QuadOptimizer.multi_plane_fast module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.QuadOptimizer.html#module-lenstronomy.LensModel.QuadOptimizer.optimizer">lenstronomy.LensModel.QuadOptimizer.optimizer module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.QuadOptimizer.html#module-lenstronomy.LensModel.QuadOptimizer.param_manager">lenstronomy.LensModel.QuadOptimizer.param_manager module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.QuadOptimizer.html#module-lenstronomy.LensModel.QuadOptimizer">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lenstronomy.LensModel.Solver.html">lenstronomy.LensModel.Solver package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Solver.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Solver.html#module-lenstronomy.LensModel.Solver.lens_equation_solver">lenstronomy.LensModel.Solver.lens_equation_solver module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Solver.html#module-lenstronomy.LensModel.Solver.solver">lenstronomy.LensModel.Solver.solver module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Solver.html#module-lenstronomy.LensModel.Solver.solver2point">lenstronomy.LensModel.Solver.solver2point module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Solver.html#module-lenstronomy.LensModel.Solver.solver4point">lenstronomy.LensModel.Solver.solver4point module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Solver.html#module-lenstronomy.LensModel.Solver">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lenstronomy.LensModel.Util.html">lenstronomy.LensModel.Util package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Util.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Util.html#module-lenstronomy.LensModel.Util.epl_util">lenstronomy.LensModel.Util.epl_util module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Util.html#module-lenstronomy.LensModel.Util">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-lenstronomy.LensModel.convergence_integrals">
<span id="lenstronomy-lensmodel-convergence-integrals-module"></span><h2>lenstronomy.LensModel.convergence_integrals module<a class="headerlink" href="#module-lenstronomy.LensModel.convergence_integrals" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="lenstronomy.LensModel.convergence_integrals.deflection_from_kappa_grid">
<code class="sig-prename descclassname">lenstronomy.LensModel.convergence_integrals.</code><code class="sig-name descname">deflection_from_kappa_grid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">kappa</span></em>, <em class="sig-param"><span class="n">grid_spacing</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/convergence_integrals.html#deflection_from_kappa_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.convergence_integrals.deflection_from_kappa_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>deflection angles on the convergence grid
the computation is performed as a convolution of the Green’s function with the convergence map using FFT</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kappa</strong> – convergence values for each pixel (2-d array)</p></li>
<li><p><strong>grid_spacing</strong> – pixel size of grid</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>numerical deflection angles in x- and y- direction</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lenstronomy.LensModel.convergence_integrals.deflection_from_kappa_grid_adaptive">
<code class="sig-prename descclassname">lenstronomy.LensModel.convergence_integrals.</code><code class="sig-name descname">deflection_from_kappa_grid_adaptive</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">kappa_high_res</span></em>, <em class="sig-param"><span class="n">grid_spacing</span></em>, <em class="sig-param"><span class="n">low_res_factor</span></em>, <em class="sig-param"><span class="n">high_res_kernel_size</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/convergence_integrals.html#deflection_from_kappa_grid_adaptive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.convergence_integrals.deflection_from_kappa_grid_adaptive" title="Permalink to this definition">¶</a></dt>
<dd><p>deflection angles on the convergence grid with adaptive FFT
the computation is performed as a convolution of the Green’s function with the convergence map using FFT
The grid is returned in the lower resolution grid</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kappa_high_res</strong> – convergence values for each pixel (2-d array)</p></li>
<li><p><strong>grid_spacing</strong> – pixel size of high resolution grid</p></li>
<li><p><strong>low_res_factor</strong> – lower resolution factor of larger scale kernel.</p></li>
<li><p><strong>high_res_kernel_size</strong> – int, size of high resolution kernel in units of degraded pixels</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>numerical deflection angles in x- and y- direction</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lenstronomy.LensModel.convergence_integrals.deflection_kernel">
<code class="sig-prename descclassname">lenstronomy.LensModel.convergence_integrals.</code><code class="sig-name descname">deflection_kernel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_pix</span></em>, <em class="sig-param"><span class="n">delta_pix</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/convergence_integrals.html#deflection_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.convergence_integrals.deflection_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>numerical gridded integration kernel for convergence to deflection angle with given pixel size</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_pix</strong> – integer; number of pixels of kernel per axis, should be odd number to have a defined center</p></li>
<li><p><strong>delta_pix</strong> – pixel size (per dimension in units of angle)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>kernel for x-direction and kernel of y-direction deflection angles</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lenstronomy.LensModel.convergence_integrals.potential_from_kappa_grid">
<code class="sig-prename descclassname">lenstronomy.LensModel.convergence_integrals.</code><code class="sig-name descname">potential_from_kappa_grid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">kappa</span></em>, <em class="sig-param"><span class="n">grid_spacing</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/convergence_integrals.html#potential_from_kappa_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.convergence_integrals.potential_from_kappa_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>lensing potential on the convergence grid
the computation is performed as a convolution of the Green’s function with the convergence map using FFT</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kappa</strong> – 2d grid of convergence values</p></li>
<li><p><strong>grid_spacing</strong> – pixel size of grid</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>lensing potential in a 2d grid at positions x_grid, y_grid</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lenstronomy.LensModel.convergence_integrals.potential_from_kappa_grid_adaptive">
<code class="sig-prename descclassname">lenstronomy.LensModel.convergence_integrals.</code><code class="sig-name descname">potential_from_kappa_grid_adaptive</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">kappa_high_res</span></em>, <em class="sig-param"><span class="n">grid_spacing</span></em>, <em class="sig-param"><span class="n">low_res_factor</span></em>, <em class="sig-param"><span class="n">high_res_kernel_size</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/convergence_integrals.html#potential_from_kappa_grid_adaptive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.convergence_integrals.potential_from_kappa_grid_adaptive" title="Permalink to this definition">¶</a></dt>
<dd><p>lensing potential on the convergence grid
the computation is performed as a convolution of the Green’s function with the convergence map using FFT</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kappa_high_res</strong> – 2d grid of convergence values</p></li>
<li><p><strong>grid_spacing</strong> – pixel size of grid</p></li>
<li><p><strong>low_res_factor</strong> – lower resolution factor of larger scale kernel.</p></li>
<li><p><strong>high_res_kernel_size</strong> – int, size of high resolution kernel in units of degraded pixels</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>lensing potential in a 2d grid at positions x_grid, y_grid</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lenstronomy.LensModel.convergence_integrals.potential_kernel">
<code class="sig-prename descclassname">lenstronomy.LensModel.convergence_integrals.</code><code class="sig-name descname">potential_kernel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_pix</span></em>, <em class="sig-param"><span class="n">delta_pix</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/convergence_integrals.html#potential_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.convergence_integrals.potential_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>numerical gridded integration kernel for convergence to lensing kernel with given pixel size</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_pix</strong> – integer; number of pixels of kernel per axis</p></li>
<li><p><strong>delta_pix</strong> – pixel size (per dimension in units of angle)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>kernel for lensing potential</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-lenstronomy.LensModel.lens_model">
<span id="lenstronomy-lensmodel-lens-model-module"></span><h2>lenstronomy.LensModel.lens_model module<a class="headerlink" href="#module-lenstronomy.LensModel.lens_model" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="lenstronomy.LensModel.lens_model.LensModel">
<em class="property">class </em><code class="sig-prename descclassname">lenstronomy.LensModel.lens_model.</code><code class="sig-name descname">LensModel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lens_model_list</span></em>, <em class="sig-param"><span class="n">z_lens</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">z_source</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lens_redshift_list</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cosmo</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">multi_plane</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">numerical_alpha_class</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">observed_convention_index</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">z_source_convention</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cosmo_interp</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">z_interp_stop</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">num_z_interp</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">kwargs_interp</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>class to handle an arbitrary list of lens models. This is the main lenstronomy LensModel API for all other modules.
NH modifiying to include LOS effects 08/09/21 #NHmod
PF modifying to make the detection of LOS effects automatic and remove los_effects flag #PFmod
DJ modifying to change kwargs_lens to kwargs in fermat_potential and time_delay functions, for implementation of LOS effects #DJmod</p>
<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.alpha">
<code class="sig-name descname">alpha</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">kwargs</span></em>, <em class="sig-param"><span class="n">k</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">diff</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.alpha"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.alpha" title="Permalink to this definition">¶</a></dt>
<dd><p>deflection angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>numpy array</em>) – x-position (preferentially arcsec)</p></li>
<li><p><strong>y</strong> (<em>numpy array</em>) – y-position (preferentially arcsec)</p></li>
<li><p><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</p></li>
<li><p><strong>k</strong> – only evaluate the k-th lens model</p></li>
<li><p><strong>diff</strong> – None or float. If set, computes the deflection as a finite numerical differential of the lensing
potential. This differential is only applicable in the single lensing plane where the form of the lensing
potential is analytically known</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>deflection angles in units of arcsec</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.arrival_time">
<code class="sig-name descname">arrival_time</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x_image</span></em>, <em class="sig-param"><span class="n">y_image</span></em>, <em class="sig-param"><span class="n">kwargs</span></em>, <em class="sig-param"><span class="n">kappa_ext</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">x_source</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">y_source</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.arrival_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.arrival_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Arrival time of images relative to a straight line without lensing.
Negative values correspond to images arriving earlier, and positive signs correspond to images arriving later.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_image</strong> – image position</p></li>
<li><p><strong>y_image</strong> – image position</p></li>
<li><p><strong>kwargs</strong> – lens model parameter keyword argument list</p></li>
<li><p><strong>kappa_ext</strong> – external convergence contribution not accounted in the lens model that leads to the same
observables in position and relative fluxes but rescales the time delays</p></li>
<li><p><strong>x_source</strong> – source position (optional), otherwise computed with ray-tracing</p></li>
<li><p><strong>y_source</strong> – source position (optional), otherwise computed with ray-tracing</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>arrival time of image positions in units of days</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.curl">
<code class="sig-name descname">curl</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">kwargs</span></em>, <em class="sig-param"><span class="n">k</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">diff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">diff_method</span><span class="o">=</span><span class="default_value">'square'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.curl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.curl" title="Permalink to this definition">¶</a></dt>
<dd><p>curl computation F_xy - F_yx</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>numpy array</em>) – x-position (preferentially arcsec)</p></li>
<li><p><strong>y</strong> (<em>numpy array</em>) – y-position (preferentially arcsec)</p></li>
<li><p><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</p></li>
<li><p><strong>k</strong> – only evaluate the k-th lens model</p></li>
<li><p><strong>diff</strong> – float, scale over which the finite numerical differential is computed. If None, then using the
exact (if available) differentials.</p></li>
<li><p><strong>diff_method</strong> – string, ‘square’ or ‘cross’, indicating whether finite differentials are computed from a
cross or a square of points around (x, y)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>curl at position (x, y)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.fermat_potential">
<code class="sig-name descname">fermat_potential</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x_image</span></em>, <em class="sig-param"><span class="n">y_image</span></em>, <em class="sig-param"><span class="n">kwargs</span></em>, <em class="sig-param"><span class="n">x_source</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">y_source</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.fermat_potential"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.fermat_potential" title="Permalink to this definition">¶</a></dt>
<dd><p>Fermat potential (negative sign means earlier arrival time)
for Multi-plane lensing, it computes the effective Fermat potential (derived from the arrival time and
subtracted off the time-delay distance for the given cosmology). The units are given in arcsecond square.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_image</strong> – image position</p></li>
<li><p><strong>y_image</strong> – image position</p></li>
<li><p><strong>x_source</strong> – source position</p></li>
<li><p><strong>y_source</strong> – source position</p></li>
<li><p><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>fermat potential in arcsec**2 without geometry term (second part of Eqn 1 in Suyu et al. 2013) as a list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.flexion">
<code class="sig-name descname">flexion</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">kwargs</span></em>, <em class="sig-param"><span class="n">k</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">diff</span><span class="o">=</span><span class="default_value">1e-06</span></em>, <em class="sig-param"><span class="n">hessian_diff</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.flexion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.flexion" title="Permalink to this definition">¶</a></dt>
<dd><p>third derivatives (flexion)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>numpy array</em>) – x-position (preferentially arcsec)</p></li>
<li><p><strong>y</strong> (<em>numpy array</em>) – y-position (preferentially arcsec)</p></li>
<li><p><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</p></li>
<li><p><strong>k</strong> – int or None, if set, only evaluates the differential from one model component</p></li>
<li><p><strong>diff</strong> – numerical differential length of Flexion</p></li>
<li><p><strong>hessian_diff</strong> – boolean, if true also computes the numerical differential length of Hessian (optional)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>f_xxx, f_xxy, f_xyy, f_yyy</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.gamma">
<code class="sig-name descname">gamma</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">kwargs</span></em>, <em class="sig-param"><span class="n">k</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">diff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">diff_method</span><span class="o">=</span><span class="default_value">'square'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.gamma"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.gamma" title="Permalink to this definition">¶</a></dt>
<dd><p>shear computation
g1 = 1/2(d^2phi/dx^2 - d^2phi/dy^2)
g2 = d^2phi/dxdy</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>numpy array</em>) – x-position (preferentially arcsec)</p></li>
<li><p><strong>y</strong> (<em>numpy array</em>) – y-position (preferentially arcsec)</p></li>
<li><p><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</p></li>
<li><p><strong>k</strong> – only evaluate the k-th lens model</p></li>
<li><p><strong>diff</strong> – float, scale over which the finite numerical differential is computed. If None, then using the
exact (if available) differentials.</p></li>
<li><p><strong>diff_method</strong> – string, ‘square’ or ‘cross’, indicating whether finite differentials are computed from a
cross or a square of points around (x, y)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>gamma1, gamma2</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.hessian">
<code class="sig-name descname">hessian</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">kwargs</span></em>, <em class="sig-param"><span class="n">k</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">diff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">diff_method</span><span class="o">=</span><span class="default_value">'square'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.hessian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.hessian" title="Permalink to this definition">¶</a></dt>
<dd><p>hessian matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>numpy array</em>) – x-position (preferentially arcsec)</p></li>
<li><p><strong>y</strong> (<em>numpy array</em>) – y-position (preferentially arcsec)</p></li>
<li><p><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</p></li>
<li><p><strong>k</strong> – only evaluate the k-th lens model</p></li>
<li><p><strong>diff</strong> – float, scale over which the finite numerical differential is computed. If None, then using the
exact (if available) differentials.</p></li>
<li><p><strong>diff_method</strong> – string, ‘square’ or ‘cross’, indicating whether finite differentials are computed from a
cross or a square of points around (x, y)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>f_xx, f_xy, f_yx, f_yy components</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.kappa">
<code class="sig-name descname">kappa</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">kwargs</span></em>, <em class="sig-param"><span class="n">k</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">diff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">diff_method</span><span class="o">=</span><span class="default_value">'square'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.kappa"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.kappa" title="Permalink to this definition">¶</a></dt>
<dd><p>lensing convergence k = 1/2 laplacian(phi)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>numpy array</em>) – x-position (preferentially arcsec)</p></li>
<li><p><strong>y</strong> (<em>numpy array</em>) – y-position (preferentially arcsec)</p></li>
<li><p><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</p></li>
<li><p><strong>k</strong> – only evaluate the k-th lens model</p></li>
<li><p><strong>diff</strong> – float, scale over which the finite numerical differential is computed. If None, then using the
exact (if available) differentials.</p></li>
<li><p><strong>diff_method</strong> – string, ‘square’ or ‘cross’, indicating whether finite differentials are computed from a
cross or a square of points around (x, y)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>lensing convergence</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.magnification">
<code class="sig-name descname">magnification</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">kwargs</span></em>, <em class="sig-param"><span class="n">k</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">diff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">diff_method</span><span class="o">=</span><span class="default_value">'square'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.magnification"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.magnification" title="Permalink to this definition">¶</a></dt>
<dd><p>mag = 1/det(A)
A = 1 - d^2phi/d_ij</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>numpy array</em>) – x-position (preferentially arcsec)</p></li>
<li><p><strong>y</strong> (<em>numpy array</em>) – y-position (preferentially arcsec)</p></li>
<li><p><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</p></li>
<li><p><strong>k</strong> – only evaluate the k-th lens model</p></li>
<li><p><strong>diff</strong> – float, scale over which the finite numerical differential is computed. If None, then using the
exact (if available) differentials.</p></li>
<li><p><strong>diff_method</strong> – string, ‘square’ or ‘cross’, indicating whether finite differentials are computed from a
cross or a square of points around (x, y)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>magnification</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.potential">
<code class="sig-name descname">potential</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">kwargs</span></em>, <em class="sig-param"><span class="n">k</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.potential"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.potential" title="Permalink to this definition">¶</a></dt>
<dd><p>lensing potential</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>numpy array</em>) – x-position (preferentially arcsec)</p></li>
<li><p><strong>y</strong> (<em>numpy array</em>) – y-position (preferentially arcsec)</p></li>
<li><p><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</p></li>
<li><p><strong>k</strong> – only evaluate the k-th lens model</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>lensing potential in units of arcsec^2</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.ray_shooting">
<code class="sig-name descname">ray_shooting</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">kwargs</span></em>, <em class="sig-param"><span class="n">k</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.ray_shooting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.ray_shooting" title="Permalink to this definition">¶</a></dt>
<dd><p>maps image to source position (inverse deflection)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>numpy array</em>) – x-position (preferentially arcsec)</p></li>
<li><p><strong>y</strong> (<em>numpy array</em>) – y-position (preferentially arcsec)</p></li>
<li><p><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</p></li>
<li><p><strong>k</strong> – only evaluate the k-th lens model</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>source plane positions corresponding to (x, y) in the image plane</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.set_dynamic">
<code class="sig-name descname">set_dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.set_dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.set_dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>deletes cache for static setting and makes sure the observed convention in the position of lensing profiles in
the multi-plane setting is enabled. Dynamic is the default setting of this class enabling an accurate computation
of lensing quantities with different parameters in the lensing profiles.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.set_static">
<code class="sig-name descname">set_static</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.set_static"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.set_static" title="Permalink to this definition">¶</a></dt>
<dd><p>set this instance to a static lens model. This can improve the speed in evaluating lensing quantities at
different positions but must not be used with different lens model parameters!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kwargs</strong> – lens model keyword argument list</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>kwargs_updated (in case of image position convention in multiplane lensing this is changed)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lenstronomy.LensModel.lens_model_extensions">
<span id="lenstronomy-lensmodel-lens-model-extensions-module"></span><h2>lenstronomy.LensModel.lens_model_extensions module<a class="headerlink" href="#module-lenstronomy.LensModel.lens_model_extensions" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions">
<em class="property">class </em><code class="sig-prename descclassname">lenstronomy.LensModel.lens_model_extensions.</code><code class="sig-name descname">LensModelExtensions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lensModel</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>class with extension routines not part of the LensModel core routines</p>
<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.caustic_area">
<code class="sig-name descname">caustic_area</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">kwargs_lens</span></em>, <em class="sig-param"><span class="n">kwargs_caustic_num</span></em>, <em class="sig-param"><span class="n">index_vertices</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.caustic_area"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.caustic_area" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the area inside a connected caustic curve</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_lens</strong> – lens model keyword argument list</p></li>
<li><p><strong>kwargs_caustic_num</strong> – keyword arguments for the numerical calculation of the caustics, as input of
self.critical_curve_caustics()</p></li>
<li><p><strong>index_vertices</strong> – integer, index of connected vortex from the output of self.critical_curve_caustics()
of disconnected curves.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>area within the caustic curve selected</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.critical_curve_caustics">
<code class="sig-name descname">critical_curve_caustics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">kwargs_lens</span></em>, <em class="sig-param"><span class="n">compute_window</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="n">grid_scale</span><span class="o">=</span><span class="default_value">0.01</span></em>, <em class="sig-param"><span class="n">center_x</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">center_y</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.critical_curve_caustics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.critical_curve_caustics" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_lens</strong> – lens model kwargs</p></li>
<li><p><strong>compute_window</strong> – window size in arcsec where the critical curve is computed</p></li>
<li><p><strong>grid_scale</strong> – numerical grid spacing of the computation of the critical curves</p></li>
<li><p><strong>center_x</strong> – float, center of the window to compute critical curves and caustics</p></li>
<li><p><strong>center_y</strong> – float, center of the window to compute critical curves and caustics</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>lists of ra and dec arrays corresponding to different disconnected critical curves and their caustic counterparts</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.critical_curve_tiling">
<code class="sig-name descname">critical_curve_tiling</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">kwargs_lens</span></em>, <em class="sig-param"><span class="n">compute_window</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="n">start_scale</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">max_order</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">center_x</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">center_y</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.critical_curve_tiling"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.critical_curve_tiling" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_lens</strong> – lens model keyword argument list</p></li>
<li><p><strong>compute_window</strong> – total window in the image plane where to search for critical curves</p></li>
<li><p><strong>start_scale</strong> – float, angular scale on which to start the tiling from (if there are two distinct curves in
a region, it might only find one.</p></li>
<li><p><strong>max_order</strong> – int, maximum order in the tiling to compute critical curve triangles</p></li>
<li><p><strong>center_x</strong> – float, center of the window to compute critical curves and caustics</p></li>
<li><p><strong>center_y</strong> – float, center of the window to compute critical curves and caustics</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of positions representing coordinates of the critical curve (in RA and DEC)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.curved_arc_estimate">
<code class="sig-name descname">curved_arc_estimate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">kwargs_lens</span></em>, <em class="sig-param"><span class="n">smoothing</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">smoothing_3rd</span><span class="o">=</span><span class="default_value">0.001</span></em>, <em class="sig-param"><span class="n">tan_diff</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.curved_arc_estimate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.curved_arc_estimate" title="Permalink to this definition">¶</a></dt>
<dd><p>performs the estimation of the curved arc description at a particular position of an arbitrary lens profile</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – float, x-position where the estimate is provided</p></li>
<li><p><strong>y</strong> – float, y-position where the estimate is provided</p></li>
<li><p><strong>kwargs_lens</strong> – lens model keyword arguments</p></li>
<li><p><strong>smoothing</strong> – (optional) finite differential of second derivative (radial and tangential stretches)</p></li>
<li><p><strong>smoothing_3rd</strong> – differential scale for third derivative to estimate the tangential curvature</p></li>
<li><p><strong>tan_diff</strong> – boolean, if True, also returns the relative tangential stretch differential in tangential direction</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>keyword argument list corresponding to a CURVED_ARC profile at (x, y) given the initial lens model</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.curved_arc_finite_area">
<code class="sig-name descname">curved_arc_finite_area</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">kwargs_lens</span></em>, <em class="sig-param"><span class="n">dr</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.curved_arc_finite_area"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.curved_arc_finite_area" title="Permalink to this definition">¶</a></dt>
<dd><p>computes an estimated curved arc over a finite extent mimicking the appearance of a finite source with radius dr</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – x-position (float)</p></li>
<li><p><strong>y</strong> – y-position (float)</p></li>
<li><p><strong>kwargs_lens</strong> – lens model keyword argument list</p></li>
<li><p><strong>dr</strong> – radius of finite source</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>keyword arguments of curved arc</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.hessian_eigenvectors">
<code class="sig-name descname">hessian_eigenvectors</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">kwargs_lens</span></em>, <em class="sig-param"><span class="n">diff</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.hessian_eigenvectors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.hessian_eigenvectors" title="Permalink to this definition">¶</a></dt>
<dd><p>computes magnification eigenvectors at position (x, y)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – x-position</p></li>
<li><p><strong>y</strong> – y-position</p></li>
<li><p><strong>kwargs_lens</strong> – lens model keyword arguments</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>radial stretch, tangential stretch</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.magnification_finite">
<code class="sig-name descname">magnification_finite</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x_pos</span></em>, <em class="sig-param"><span class="n">y_pos</span></em>, <em class="sig-param"><span class="n">kwargs_lens</span></em>, <em class="sig-param"><span class="n">source_sigma</span><span class="o">=</span><span class="default_value">0.003</span></em>, <em class="sig-param"><span class="n">window_size</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">grid_number</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">polar_grid</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">aspect_ratio</span><span class="o">=</span><span class="default_value">0.5</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.magnification_finite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.magnification_finite" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the magnification of an extended source with Gaussian light profile
:param x_pos: x-axis positons of point sources
:param y_pos: y-axis position of point sources
:param kwargs_lens: lens model kwargs
:param source_sigma: Gaussian sigma in arc sec in source
:param window_size: size of window to compute the finite flux
:param grid_number: number of grid cells per axis in the window to numerically compute the flux
:return: numerically computed brightness of the sources</p>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.magnification_finite_adaptive">
<code class="sig-name descname">magnification_finite_adaptive</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x_image</span></em>, <em class="sig-param"><span class="n">y_image</span></em>, <em class="sig-param"><span class="n">source_x</span></em>, <em class="sig-param"><span class="n">source_y</span></em>, <em class="sig-param"><span class="n">kwargs_lens</span></em>, <em class="sig-param"><span class="n">source_fwhm_parsec</span></em>, <em class="sig-param"><span class="n">z_source</span></em>, <em class="sig-param"><span class="n">cosmo</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">grid_resolution</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">grid_radius_arcsec</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">axis_ratio</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">0.001</span></em>, <em class="sig-param"><span class="n">step_size</span><span class="o">=</span><span class="default_value">0.05</span></em>, <em class="sig-param"><span class="n">use_largest_eigenvalue</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">source_light_model</span><span class="o">=</span><span class="default_value">'SINGLE_GAUSSIAN'</span></em>, <em class="sig-param"><span class="n">dx</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dy</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">size_scale</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">amp_scale</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fixed_aperture_size</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.magnification_finite_adaptive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.magnification_finite_adaptive" title="Permalink to this definition">¶</a></dt>
<dd><p>This method computes image magnifications with a finite-size background source assuming a Gaussian or a
double Gaussian source light profile. It can be much faster that magnification_finite for lens models with many
deflectors and a compact source. This is because most pixels in a rectangular window around a lensed
image of a compact source do not map onto the source, and therefore don’t contribute to the integrated flux in
the image plane.</p>
<p>Rather than ray tracing through a rectangular grid, this routine accelerates the computation of image
magnifications with finite-size sources by ray tracing through an elliptical region oriented such that
tracks the surface brightness of the lensed image. The aperture size is initially quite small,
and increases in size until the flux inside of it (and hence the magnification) converges. The orientation of
the elliptical aperture is computed from the magnification tensor evaluated at the image coordinate.</p>
<p>If for whatever reason you prefer a circular aperture to the elliptical approximation using the hessian
eigenvectors, you can just set axis_ratio = 1.</p>
<p>To use the eigenvalues of the hessian matrix to estimate the optimum axis ratio, set axis_ratio = 0.</p>
<p>The default settings for the grid resolution and ray tracing window size work well for sources with fwhm between
0.5 - 100 pc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_image</strong> – a list or array of x coordinates [units arcsec]</p></li>
<li><p><strong>y_image</strong> – a list or array of y coordinates [units arcsec]</p></li>
<li><p><strong>source_x</strong> – float, source position</p></li>
<li><p><strong>source_y</strong> – float, source position</p></li>
<li><p><strong>kwargs_lens</strong> – keyword arguments for the lens model</p></li>
<li><p><strong>source_fwhm_parsec</strong> – the size of the background source [units parsec]</p></li>
<li><p><strong>z_source</strong> – the source redshift</p></li>
<li><p><strong>cosmo</strong> – (optional) an instance of astropy.cosmology; if not specified, a default cosmology will be used</p></li>
<li><p><strong>grid_resolution</strong> – the grid resolution in units arcsec/pixel; if not specified, an appropriate value will
be estimated from the source size</p></li>
<li><p><strong>grid_radius_arcsec</strong> – (optional) the size of the ray tracing region in arcsec; if not specified, an appropriate value
will be estimated from the source size</p></li>
<li><p><strong>axis_ratio</strong> – the axis ratio of the ellipse used for ray tracing; if axis_ratio = 0, then the eigenvalues
the hessian matrix will be used to estimate an appropriate axis ratio. Be warned: if the image is highly
magnified it will tend to curve out of the resulting ellipse</p></li>
<li><p><strong>tol</strong> – tolerance for convergence in the magnification</p></li>
<li><p><strong>step_size</strong> – sets the increment for the successively larger ray tracing windows</p></li>
<li><p><strong>use_largest_eigenvalue</strong> – bool; if True, then the major axis of the ray tracing ellipse region
will be aligned with the eigenvector corresponding to the largest eigenvalue of the hessian matrix</p></li>
<li><p><strong>source_light_model</strong> – the model for backgourn source light; currently implemented are ‘SINGLE_GAUSSIAN’ and
‘DOUBLE_GAUSSIAN’.</p></li>
<li><p><strong>dx</strong> – used with source model ‘DOUBLE_GAUSSIAN’, the offset of the second source light profile from the first
[arcsec]</p></li>
<li><p><strong>dy</strong> – used with source model ‘DOUBLE_GAUSSIAN’, the offset of the second source light profile from the first
[arcsec]</p></li>
<li><p><strong>size_scale</strong> – used with source model ‘DOUBLE_GAUSSIAN’, the size of the second source light profile relative
to the first</p></li>
<li><p><strong>amp_scale</strong> – used with source model ‘DOUBLE_GAUSSIAN’, the peak brightness of the second source light profile
relative to the first</p></li>
<li><p><strong>fixed_aperture_size</strong> – bool, if True the flux is computed inside a fixed aperture size with radius
grid_radius_arcsec</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an array of image magnifications</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.radial_tangential_differentials">
<code class="sig-name descname">radial_tangential_differentials</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">kwargs_lens</span></em>, <em class="sig-param"><span class="n">center_x</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">center_y</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">smoothing_3rd</span><span class="o">=</span><span class="default_value">0.001</span></em>, <em class="sig-param"><span class="n">smoothing_2nd</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.radial_tangential_differentials"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.radial_tangential_differentials" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the differentials in stretches and directions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – x-position</p></li>
<li><p><strong>y</strong> – y-position</p></li>
<li><p><strong>kwargs_lens</strong> – lens model keyword arguments</p></li>
<li><p><strong>center_x</strong> – x-coord of center towards which the rotation direction is defined</p></li>
<li><p><strong>center_y</strong> – x-coord of center towards which the rotation direction is defined</p></li>
<li><p><strong>smoothing_3rd</strong> – finite differential length of third order in units of angle</p></li>
<li><p><strong>smoothing_2nd</strong> – float or None, finite average differential scale of Hessian</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.radial_tangential_stretch">
<code class="sig-name descname">radial_tangential_stretch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">kwargs_lens</span></em>, <em class="sig-param"><span class="n">diff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ra_0</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">dec_0</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">coordinate_frame_definitions</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.radial_tangential_stretch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.radial_tangential_stretch" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the radial and tangential stretches at a given position</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – x-position</p></li>
<li><p><strong>y</strong> – y-position</p></li>
<li><p><strong>kwargs_lens</strong> – lens model keyword arguments</p></li>
<li><p><strong>diff</strong> – float or None, finite average differential scale</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>radial stretch, tangential stretch</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.tangential_average">
<code class="sig-name descname">tangential_average</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">kwargs_lens</span></em>, <em class="sig-param"><span class="n">dr</span></em>, <em class="sig-param"><span class="n">smoothing</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">num_average</span><span class="o">=</span><span class="default_value">9</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.tangential_average"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.tangential_average" title="Permalink to this definition">¶</a></dt>
<dd><p>computes average tangential stretch around position (x, y) within dr in radial direction</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – x-position (float)</p></li>
<li><p><strong>y</strong> – y-position (float)</p></li>
<li><p><strong>kwargs_lens</strong> – lens model keyword argument list</p></li>
<li><p><strong>dr</strong> – averaging scale in radial direction</p></li>
<li><p><strong>smoothing</strong> – smoothing scale of derivative</p></li>
<li><p><strong>num_average</strong> – integer, number of points averaged over within dr in the radial direction</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.zoom_source">
<code class="sig-name descname">zoom_source</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x_pos</span></em>, <em class="sig-param"><span class="n">y_pos</span></em>, <em class="sig-param"><span class="n">kwargs_lens</span></em>, <em class="sig-param"><span class="n">source_sigma</span><span class="o">=</span><span class="default_value">0.003</span></em>, <em class="sig-param"><span class="n">window_size</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">grid_number</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">shape</span><span class="o">=</span><span class="default_value">'GAUSSIAN'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.zoom_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.zoom_source" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the surface brightness on an image with a zoomed window</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_pos</strong> – angular coordinate of center of image</p></li>
<li><p><strong>y_pos</strong> – angular coordinate of center of image</p></li>
<li><p><strong>kwargs_lens</strong> – lens model parameter list</p></li>
<li><p><strong>source_sigma</strong> – source size (in angular units)</p></li>
<li><p><strong>window_size</strong> – window size in angular units</p></li>
<li><p><strong>grid_number</strong> – number of grid points per axis</p></li>
<li><p><strong>shape</strong> – string, shape of source, supports ‘GAUSSIAN’ and ‘TORUS</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>2d numpy array</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lenstronomy.LensModel.lens_param">
<span id="lenstronomy-lensmodel-lens-param-module"></span><h2>lenstronomy.LensModel.lens_param module<a class="headerlink" href="#module-lenstronomy.LensModel.lens_param" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="lenstronomy.LensModel.lens_param.LensParam">
<em class="property">class </em><code class="sig-prename descclassname">lenstronomy.LensModel.lens_param.</code><code class="sig-name descname">LensParam</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lens_model_list</span></em>, <em class="sig-param"><span class="n">kwargs_fixed</span></em>, <em class="sig-param"><span class="n">kwargs_lower</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">kwargs_upper</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">kwargs_logsampling</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">num_images</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">solver_type</span><span class="o">=</span><span class="default_value">'NONE'</span></em>, <em class="sig-param"><span class="n">num_shapelet_lens</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_param.html#LensParam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_param.LensParam" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>class to handle the lens model parameter</p>
<dl class="py method">
<dt id="lenstronomy.LensModel.lens_param.LensParam.get_params">
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em>, <em class="sig-param"><span class="n">i</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_param.html#LensParam.get_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_param.LensParam.get_params" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – tuple of individual floats of sampling argument</p></li>
<li><p><strong>i</strong> – integer, index at the beginning of the tuple for read out to keyword argument convention</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>kwargs_list, index at the end of read out of this model component</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_param.LensParam.num_param">
<code class="sig-name descname">num_param</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_param.html#LensParam.num_param"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_param.LensParam.num_param" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>integer, number of free parameters being sampled from the lens model components</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.lens_param.LensParam.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">kwargs_list</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_param.html#LensParam.set_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_param.LensParam.set_params" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kwargs_list</strong> – keyword argument list of lens model components</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tuple of arguments (floats) that are being sampled</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lenstronomy.LensModel.profile_integrals">
<span id="lenstronomy-lensmodel-profile-integrals-module"></span><h2>lenstronomy.LensModel.profile_integrals module<a class="headerlink" href="#module-lenstronomy.LensModel.profile_integrals" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="lenstronomy.LensModel.profile_integrals.ProfileIntegrals">
<em class="property">class </em><code class="sig-prename descclassname">lenstronomy.LensModel.profile_integrals.</code><code class="sig-name descname">ProfileIntegrals</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">profile_class</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/profile_integrals.html#ProfileIntegrals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.profile_integrals.ProfileIntegrals" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>class to perform integrals of spherical profiles to compute:
- projected densities
- enclosed densities
- projected enclosed densities</p>
<dl class="py method">
<dt id="lenstronomy.LensModel.profile_integrals.ProfileIntegrals.density_2d">
<code class="sig-name descname">density_2d</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">r</span></em>, <em class="sig-param"><span class="n">kwargs_profile</span></em>, <em class="sig-param"><span class="n">lens_param</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/profile_integrals.html#ProfileIntegrals.density_2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.profile_integrals.ProfileIntegrals.density_2d" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the projected density along the line-of-sight
:param r: radius (arcsec)
:param kwargs_profile: keyword argument list with lens model parameters
:param lens_param: boolean, if True uses the lens model parameterization in computing the 3d density convention</p>
<blockquote>
<div><p>and the return is the convergence</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>2d projected density at projected radius r</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.profile_integrals.ProfileIntegrals.mass_enclosed_2d">
<code class="sig-name descname">mass_enclosed_2d</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">r</span></em>, <em class="sig-param"><span class="n">kwargs_profile</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/profile_integrals.html#ProfileIntegrals.mass_enclosed_2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.profile_integrals.ProfileIntegrals.mass_enclosed_2d" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the mass enclosed the projected line-of-sight
:param r: radius (arcsec)
:param kwargs_profile: keyword argument list with lens model parameters
:return: projected mass enclosed radius r</p>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.profile_integrals.ProfileIntegrals.mass_enclosed_3d">
<code class="sig-name descname">mass_enclosed_3d</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">r</span></em>, <em class="sig-param"><span class="n">kwargs_profile</span></em>, <em class="sig-param"><span class="n">lens_param</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/profile_integrals.html#ProfileIntegrals.mass_enclosed_3d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.profile_integrals.ProfileIntegrals.mass_enclosed_3d" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the mass enclosed within a sphere of radius r</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> – radius (arcsec)</p></li>
<li><p><strong>kwargs_profile</strong> – keyword argument list with lens model parameters</p></li>
<li><p><strong>lens_param</strong> – boolean, if True uses the lens model parameterization in computing the 3d density convention
and the return is the convergence</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3d mass enclosed of r</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lenstronomy.LensModel.profile_list_base">
<span id="lenstronomy-lensmodel-profile-list-base-module"></span><h2>lenstronomy.LensModel.profile_list_base module<a class="headerlink" href="#module-lenstronomy.LensModel.profile_list_base" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="lenstronomy.LensModel.profile_list_base.ProfileListBase">
<em class="property">class </em><code class="sig-prename descclassname">lenstronomy.LensModel.profile_list_base.</code><code class="sig-name descname">ProfileListBase</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lens_model_list</span></em>, <em class="sig-param"><span class="n">numerical_alpha_class</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lens_redshift_list</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">z_source_convention</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">kwargs_interp</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/profile_list_base.html#ProfileListBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.profile_list_base.ProfileListBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>class that manages the list of lens model class instances. This class is applicable for single plane and multi
plane lensing</p>
<dl class="py method">
<dt id="lenstronomy.LensModel.profile_list_base.ProfileListBase.set_dynamic">
<code class="sig-name descname">set_dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/profile_list_base.html#ProfileListBase.set_dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.profile_list_base.ProfileListBase.set_dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>frees cache set by static model (if exists) and re-computes all lensing quantities each time a definition is
called assuming different parameters are executed. This is the default mode if not specified as set_static()</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.profile_list_base.ProfileListBase.set_static">
<code class="sig-name descname">set_static</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">kwargs_list</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/profile_list_base.html#ProfileListBase.set_static"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.profile_list_base.ProfileListBase.set_static" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kwargs_list</strong> – list of keyword arguments for each profile</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>kwargs_list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lenstronomy.LensModel.single_plane">
<span id="lenstronomy-lensmodel-single-plane-module"></span><h2>lenstronomy.LensModel.single_plane module<a class="headerlink" href="#module-lenstronomy.LensModel.single_plane" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="lenstronomy.LensModel.single_plane.SinglePlane">
<em class="property">class </em><code class="sig-prename descclassname">lenstronomy.LensModel.single_plane.</code><code class="sig-name descname">SinglePlane</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lens_model_list</span></em>, <em class="sig-param"><span class="n">numerical_alpha_class</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lens_redshift_list</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">z_source_convention</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">kwargs_interp</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/single_plane.html#SinglePlane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.single_plane.SinglePlane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lenstronomy.LensModel.profile_list_base.ProfileListBase" title="lenstronomy.LensModel.profile_list_base.ProfileListBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">lenstronomy.LensModel.profile_list_base.ProfileListBase</span></code></a></p>
<p>class to handle an arbitrary list of lens models in a single lensing plane</p>
<dl class="py method">
<dt id="lenstronomy.LensModel.single_plane.SinglePlane.alpha">
<code class="sig-name descname">alpha</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">kwargs</span></em>, <em class="sig-param"><span class="n">k</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/single_plane.html#SinglePlane.alpha"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.single_plane.SinglePlane.alpha" title="Permalink to this definition">¶</a></dt>
<dd><p>deflection angles
:param x: x-position (preferentially arcsec)
:type x: numpy array
:param y: y-position (preferentially arcsec)
:type y: numpy array
:param kwargs: list of keyword arguments of lens model parameters matching the lens model classes
:param k: only evaluate the k-th lens model
:return: deflection angles in units of arcsec</p>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.single_plane.SinglePlane.density">
<code class="sig-name descname">density</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">r</span></em>, <em class="sig-param"><span class="n">kwargs</span></em>, <em class="sig-param"><span class="n">bool_list</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/single_plane.html#SinglePlane.density"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.single_plane.SinglePlane.density" title="Permalink to this definition">¶</a></dt>
<dd><p>3d mass density at radius r
The integral in the LOS projection of this quantity results in the convergence quantity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> – radius (in angular units)</p></li>
<li><p><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</p></li>
<li><p><strong>bool_list</strong> – list of bools that are part of the output</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>mass density at radius r (in angular units, modulo epsilon_crit)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.single_plane.SinglePlane.fermat_potential">
<code class="sig-name descname">fermat_potential</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x_image</span></em>, <em class="sig-param"><span class="n">y_image</span></em>, <em class="sig-param"><span class="n">kwargs_lens</span></em>, <em class="sig-param"><span class="n">x_source</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">y_source</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">k</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/single_plane.html#SinglePlane.fermat_potential"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.single_plane.SinglePlane.fermat_potential" title="Permalink to this definition">¶</a></dt>
<dd><p>fermat potential (negative sign means earlier arrival time)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_image</strong> – image position</p></li>
<li><p><strong>y_image</strong> – image position</p></li>
<li><p><strong>x_source</strong> – source position</p></li>
<li><p><strong>y_source</strong> – source position</p></li>
<li><p><strong>kwargs_lens</strong> – list of keyword arguments of lens model parameters matching the lens model classes</p></li>
<li><p><strong>k</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>fermat potential in arcsec**2 without geometry term (second part of Eqn 1 in Suyu et al. 2013) as a list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.single_plane.SinglePlane.hessian">
<code class="sig-name descname">hessian</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">kwargs</span></em>, <em class="sig-param"><span class="n">k</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/single_plane.html#SinglePlane.hessian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.single_plane.SinglePlane.hessian" title="Permalink to this definition">¶</a></dt>
<dd><p>hessian matrix
:param x: x-position (preferentially arcsec)
:type x: numpy array
:param y: y-position (preferentially arcsec)
:type y: numpy array
:param kwargs: list of keyword arguments of lens model parameters matching the lens model classes
:param k: only evaluate the k-th lens model
:return: f_xx, f_xy, f_yx, f_yy components</p>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.single_plane.SinglePlane.mass_2d">
<code class="sig-name descname">mass_2d</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">r</span></em>, <em class="sig-param"><span class="n">kwargs</span></em>, <em class="sig-param"><span class="n">bool_list</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/single_plane.html#SinglePlane.mass_2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.single_plane.SinglePlane.mass_2d" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the mass enclosed a projected (2d) radius r</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> – radius (in angular units)</p></li>
<li><p><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</p></li>
<li><p><strong>bool_list</strong> – list of bools that are part of the output</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>projected mass (in angular units, modulo epsilon_crit)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.single_plane.SinglePlane.mass_3d">
<code class="sig-name descname">mass_3d</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">r</span></em>, <em class="sig-param"><span class="n">kwargs</span></em>, <em class="sig-param"><span class="n">bool_list</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/single_plane.html#SinglePlane.mass_3d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.single_plane.SinglePlane.mass_3d" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the mass within a 3d sphere of radius r</p>
<p>if you want to have physical units of kg, you need to multiply by this factor:
const.arcsec ** 2 * self._cosmo.dd * self._cosmo.ds / self._cosmo.dds * const.Mpc * const.c ** 2 / (4 * np.pi * const.G)
grav_pot = -const.G * mass_dim / (r * const.arcsec * self._cosmo.dd * const.Mpc)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> – radius (in angular units)</p></li>
<li><p><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</p></li>
<li><p><strong>bool_list</strong> – list of bools that are part of the output</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>mass (in angular units, modulo epsilon_crit)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.single_plane.SinglePlane.potential">
<code class="sig-name descname">potential</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">kwargs</span></em>, <em class="sig-param"><span class="n">k</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/single_plane.html#SinglePlane.potential"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.single_plane.SinglePlane.potential" title="Permalink to this definition">¶</a></dt>
<dd><p>lensing potential
:param x: x-position (preferentially arcsec)
:type x: numpy array
:param y: y-position (preferentially arcsec)
:type y: numpy array
:param kwargs: list of keyword arguments of lens model parameters matching the lens model classes
:param k: only evaluate the k-th lens model
:return: lensing potential in units of arcsec^2</p>
</dd></dl>

<dl class="py method">
<dt id="lenstronomy.LensModel.single_plane.SinglePlane.ray_shooting">
<code class="sig-name descname">ray_shooting</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">kwargs</span></em>, <em class="sig-param"><span class="n">k</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/single_plane.html#SinglePlane.ray_shooting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.single_plane.SinglePlane.ray_shooting" title="Permalink to this definition">¶</a></dt>
<dd><p>maps image to source position (inverse deflection)
:param x: x-position (preferentially arcsec)
:type x: numpy array
:param y: y-position (preferentially arcsec)
:type y: numpy array
:param kwargs: list of keyword arguments of lens model parameters matching the lens model classes
:param k: only evaluate the k-th lens model
:return: source plane positions corresponding to (x, y) in the image plane</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lenstronomy.LensModel">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-lenstronomy.LensModel" title="Permalink to this headline">¶</a></h2>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">lenstronomy.LensModel package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-lenstronomy.LensModel.convergence_integrals">lenstronomy.LensModel.convergence_integrals module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.LensModel.lens_model">lenstronomy.LensModel.lens_model module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.LensModel.lens_model_extensions">lenstronomy.LensModel.lens_model_extensions module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.LensModel.lens_param">lenstronomy.LensModel.lens_param module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.LensModel.profile_integrals">lenstronomy.LensModel.profile_integrals module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.LensModel.profile_list_base">lenstronomy.LensModel.profile_list_base module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.LensModel.single_plane">lenstronomy.LensModel.single_plane module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.LensModel">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="lenstronomy.ImSim.Numerics.html"
                        title="previous chapter">lenstronomy.ImSim.Numerics package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="lenstronomy.LensModel.LightConeSim.html"
                        title="next chapter">lenstronomy.LensModel.LightConeSim package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/lenstronomy.LensModel.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="lenstronomy.LensModel.LightConeSim.html" title="lenstronomy.LensModel.LightConeSim package"
             >next</a> |</li>
        <li class="right" >
          <a href="lenstronomy.ImSim.Numerics.html" title="lenstronomy.ImSim.Numerics package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">lenstronomy 1.9.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="lenstronomy.html" >lenstronomy package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">lenstronomy.LensModel package</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Simon Birrer and contributors.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.4.2.
    </div>
  </body>
</html>