
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>lenstronomy.Util package &#8212; lenstronomy 1.10.3 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="lenstronomy.Workflow package" href="lenstronomy.Workflow.html" />
    <link rel="prev" title="lenstronomy.SimulationAPI.ObservationConfig package" href="lenstronomy.SimulationAPI.ObservationConfig.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="lenstronomy.Workflow.html" title="lenstronomy.Workflow package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="lenstronomy.SimulationAPI.ObservationConfig.html" title="lenstronomy.SimulationAPI.ObservationConfig package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">lenstronomy 1.10.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="lenstronomy.html" accesskey="U">lenstronomy package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">lenstronomy.Util package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="lenstronomy-util-package">
<h1>lenstronomy.Util package<a class="headerlink" href="#lenstronomy-util-package" title="Permalink to this headline">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-lenstronomy.Util.analysis_util">
<span id="lenstronomy-util-analysis-util-module"></span><h2>lenstronomy.Util.analysis_util module<a class="headerlink" href="#module-lenstronomy.Util.analysis_util" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.analysis_util.azimuthalAverage">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.analysis_util.</span></span><span class="sig-name descname"><span class="pre">azimuthalAverage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/analysis_util.html#azimuthalAverage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.analysis_util.azimuthalAverage" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the azimuthally averaged radial profile.</p>
<p>image - The 2D image
center - The [x,y] pixel coordinates used as the center. The default is None, which then uses the center of the
image (including fractional pixels).
:return: I(r) (averaged), r of bin edges</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.analysis_util.bic_model">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.analysis_util.</span></span><span class="sig-name descname"><span class="pre">bic_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logL</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_param</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/analysis_util.html#bic_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.analysis_util.bic_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Bayesian information criteria</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>logL</strong> – log likelihood value</p></li>
<li><p><strong>num_data</strong> – numbers of data</p></li>
<li><p><strong>num_param</strong> – numbers of model parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BIC value</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.analysis_util.ellipticities">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.analysis_util.</span></span><span class="sig-name descname"><span class="pre">ellipticities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">I_xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/analysis_util.html#ellipticities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.analysis_util.ellipticities" title="Permalink to this definition">¶</a></dt>
<dd><p>compute ellipticities of a light distribution</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>I_xy</strong> – </p></li>
<li><p><strong>x</strong> – </p></li>
<li><p><strong>y</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.analysis_util.half_light_radius">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.analysis_util.</span></span><span class="sig-name descname"><span class="pre">half_light_radius</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lens_light</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/analysis_util.html#half_light_radius"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.analysis_util.half_light_radius" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lens_light</strong> – array of surface brightness</p></li>
<li><p><strong>x_grid</strong> – x-axis coordinates</p></li>
<li><p><strong>y_grid</strong> – y-axis coordinates</p></li>
<li><p><strong>center_x</strong> – center of light</p></li>
<li><p><strong>center_y</strong> – center of light</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.analysis_util.moments">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.analysis_util.</span></span><span class="sig-name descname"><span class="pre">moments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">I_xy_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/analysis_util.html#moments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.analysis_util.moments" title="Permalink to this definition">¶</a></dt>
<dd><p>compute quadrupole moments from a light distribution</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>I_xy_input</strong> – light distribution</p></li>
<li><p><strong>x</strong> – x-coordinates of I_xy</p></li>
<li><p><strong>y</strong> – y-coordinates of I_xy</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Q_xx, Q_xy, Q_yy</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.analysis_util.profile_center">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.analysis_util.</span></span><span class="sig-name descname"><span class="pre">profile_center</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/analysis_util.html#profile_center"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.analysis_util.profile_center" title="Permalink to this definition">¶</a></dt>
<dd><p>utility routine that results in the centroid estimate for the profile estimates</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_list</strong> – light parameter keyword argument list (can be light or mass)</p></li>
<li><p><strong>center_x</strong> – None or center</p></li>
<li><p><strong>center_y</strong> – None or center</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>center_x, center_y</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.analysis_util.radial_profile">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.analysis_util.</span></span><span class="sig-name descname"><span class="pre">radial_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">light_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/analysis_util.html#radial_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.analysis_util.radial_profile" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>light_grid</strong> – array of surface brightness</p></li>
<li><p><strong>x_grid</strong> – x-axis coordinates</p></li>
<li><p><strong>y_grid</strong> – y-axis coordinates</p></li>
<li><p><strong>center_x</strong> – center of light</p></li>
<li><p><strong>center_y</strong> – center of light</p></li>
<li><p><strong>n</strong> – number of discrete steps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-lenstronomy.Util.class_creator">
<span id="lenstronomy-util-class-creator-module"></span><h2>lenstronomy.Util.class_creator module<a class="headerlink" href="#module-lenstronomy.Util.class_creator" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.class_creator.create_class_instances">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.class_creator.</span></span><span class="sig-name descname"><span class="pre">create_class_instances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lens_model_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_lens</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_source_convention</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_redshift_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_interp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_plane</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observed_convention_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_light_model_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_light_model_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_source_model_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_magnification_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_from_point_source_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_images_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_lens_eqn_solver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_deflection_scaling_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_redshift_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosmo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_lens_model_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_source_light_model_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_lens_light_model_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_point_source_model_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optical_depth_model_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_optical_depth_model_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">band_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tau0_index_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_models</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_source_magnification_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">surface_brightness_smoothing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sersic_major_axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/class_creator.html#create_class_instances"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.class_creator.create_class_instances" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lens_model_list</strong> – list of strings indicating the type of lens models</p></li>
<li><p><strong>z_lens</strong> – redshift of the deflector (for single lens plane mode, but only relevant when computing physical quantities)</p></li>
<li><p><strong>z_source</strong> – redshift of source (for single source plane mode, or for multiple source planes the redshift of the point source). In regard to this redshift the reduced deflection angles are defined in the lens model.</p></li>
<li><p><strong>z_source_convention</strong> – float, redshift of a source to define the reduced deflection angles of the lens models.
If None, ‘z_source’ is used.</p></li>
<li><p><strong>lens_redshift_list</strong> – </p></li>
<li><p><strong>multi_plane</strong> – </p></li>
<li><p><strong>kwargs_interp</strong> – interpolation keyword arguments specifying the numerics.
See description in the Interpolate() class. Only applicable for ‘INTERPOL’ and ‘INTERPOL_SCALED’ models.</p></li>
<li><p><strong>observed_convention_index</strong> – </p></li>
<li><p><strong>source_light_model_list</strong> – </p></li>
<li><p><strong>lens_light_model_list</strong> – </p></li>
<li><p><strong>point_source_model_list</strong> – </p></li>
<li><p><strong>fixed_magnification_list</strong> – </p></li>
<li><p><strong>flux_from_point_source_list</strong> – list of bools (optional), if set, will only return image positions
(for imaging modeling) for the subset of the point source lists that =True. This option enables to model</p></li>
<li><p><strong>additional_images_list</strong> – </p></li>
<li><p><strong>kwargs_lens_eqn_solver</strong> – keyword arguments specifying the numerical settings for the lens equation solver
see LensEquationSolver() class for details</p></li>
<li><p><strong>source_deflection_scaling_list</strong> – List of floats for each source ligth model (optional, and only applicable
for single-plane lensing. The factors re-scale the reduced deflection angles described from the lens model.
=1 means identical source position as without this option. This option enables multiple source planes.
The geometric difference between the different source planes needs to be pre-computed and is cosmology dependent.</p></li>
<li><p><strong>source_redshift_list</strong> – </p></li>
<li><p><strong>cosmo</strong> – astropy.cosmology instance</p></li>
<li><p><strong>index_lens_model_list</strong> – </p></li>
<li><p><strong>index_source_light_model_list</strong> – </p></li>
<li><p><strong>index_lens_light_model_list</strong> – </p></li>
<li><p><strong>index_point_source_model_list</strong> – </p></li>
<li><p><strong>optical_depth_model_list</strong> – list of strings indicating the optical depth model to compute (differential) extinctions from the source</p></li>
<li><p><strong>index_optical_depth_model_list</strong> – </p></li>
<li><p><strong>band_index</strong> – int, index of band to consider. Has an effect if only partial models are considered for a specific band</p></li>
<li><p><strong>tau0_index_list</strong> – list of integers of the specific extinction scaling parameter tau0 for each band</p></li>
<li><p><strong>all_models</strong> – bool, if True, will make class instances of all models ignoring potential keywords that are excluding specific models as indicated.</p></li>
<li><p><strong>point_source_magnification_limit</strong> – float &gt;0 or None, if set and additional images are computed, then it will cut the point sources computed to the limiting (absolute) magnification</p></li>
<li><p><strong>surface_brightness_smoothing</strong> – float, smoothing scale of light profile (minimal distance to the center of a profile)
this can help to avoid inaccuracies in the very center of a cuspy light profile</p></li>
<li><p><strong>sersic_major_axis</strong> – boolean or None, if True, uses the semi-major axis as the definition of the Sersic
half-light radius, if False, uses the product average of semi-major and semi-minor axis. If None, uses the
convention in the lenstronomy yaml setting (which by default is =False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.class_creator.create_im_sim">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.class_creator.</span></span><span class="sig-name descname"><span class="pre">create_im_sim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">multi_band_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_band_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bands_compute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_likelihood_mask_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">band_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_pixelbased</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/class_creator.html#create_im_sim"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.class_creator.create_im_sim" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>multi_band_list</strong> – list of [[kwargs_data, kwargs_psf, kwargs_numerics], [], ..]</p></li>
<li><p><strong>multi_band_type</strong> – string, option when having multiple imaging data sets modelled simultaneously. Options are:
- ‘multi-linear’: linear amplitudes are inferred on single data set
- ‘linear-joint’: linear amplitudes ae jointly inferred
- ‘single-band’: single band</p></li>
<li><p><strong>kwargs_model</strong> – model keyword arguments</p></li>
<li><p><strong>bands_compute</strong> – (optional), bool list to indicate which band to be included in the modeling</p></li>
<li><p><strong>image_likelihood_mask_list</strong> – list of image likelihood mask
(same size as image_data with 1 indicating being evaluated and 0 being left out)</p></li>
<li><p><strong>band_index</strong> – integer, index of the imaging band to model (only applied when using ‘single-band’ as option)</p></li>
<li><p><strong>kwargs_pixelbased</strong> – keyword arguments with various settings related to the pixel-based solver (see SLITronomy documentation)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MultiBand class instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.class_creator.create_image_model">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.class_creator.</span></span><span class="sig-name descname"><span class="pre">create_image_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_psf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_numerics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_likelihood_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/class_creator.html#create_image_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.class_creator.create_image_model" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_data</strong> – ImageData keyword arguments</p></li>
<li><p><strong>kwargs_psf</strong> – PSF keyword arguments</p></li>
<li><p><strong>kwargs_numerics</strong> – numerics keyword arguments for Numerics() class</p></li>
<li><p><strong>kwargs_model</strong> – model keyword arguments</p></li>
<li><p><strong>image_likelihood_mask</strong> – image likelihood mask
(same size as image_data with 1 indicating being evaluated and 0 being left out)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ImageLinearFit() instance</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-lenstronomy.Util.constants">
<span id="lenstronomy-util-constants-module"></span><h2>lenstronomy.Util.constants module<a class="headerlink" href="#module-lenstronomy.Util.constants" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.constants.delay_arcsec2days">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.constants.</span></span><span class="sig-name descname"><span class="pre">delay_arcsec2days</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delay_arcsec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ddt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/constants.html#delay_arcsec2days"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.constants.delay_arcsec2days" title="Permalink to this definition">¶</a></dt>
<dd><p>given a delay in arcsec^2 and a Delay distance, the delay is computed in days</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>delay_arcsec</strong> – gravitational delay in units of arcsec^2 (e.g. Fermat potential)</p></li>
<li><p><strong>ddt</strong> – Time delay distance (in units of Mpc)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>time-delay in units of days</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-lenstronomy.Util.correlation">
<span id="lenstronomy-util-correlation-module"></span><h2>lenstronomy.Util.correlation module<a class="headerlink" href="#module-lenstronomy.Util.correlation" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.correlation.correlation_2D">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.correlation.</span></span><span class="sig-name descname"><span class="pre">correlation_2D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/correlation.html#correlation_2D"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.correlation.correlation_2D" title="Permalink to this definition">¶</a></dt>
<dd><p>#TODO document normalization output in units</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> – 2d image</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>2d fourier transform</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.correlation.power_spectrum_1d">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.correlation.</span></span><span class="sig-name descname"><span class="pre">power_spectrum_1d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/correlation.html#power_spectrum_1d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.correlation.power_spectrum_1d" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> – 2d numpy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>1d radially averaged power spectrum of image in frequency units of pixels</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.correlation.power_spectrum_2d">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.correlation.</span></span><span class="sig-name descname"><span class="pre">power_spectrum_2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/correlation.html#power_spectrum_2d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.correlation.power_spectrum_2d" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> – 2d numpy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>2d power spectrum in frequency units of the pixels</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-lenstronomy.Util.data_util">
<span id="lenstronomy-util-data-util-module"></span><h2>lenstronomy.Util.data_util module<a class="headerlink" href="#module-lenstronomy.Util.data_util" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.data_util.absolute2apparent_magnitude">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.data_util.</span></span><span class="sig-name descname"><span class="pre">absolute2apparent_magnitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">absolute_magnitude</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d_parsec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/data_util.html#absolute2apparent_magnitude"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.data_util.absolute2apparent_magnitude" title="Permalink to this definition">¶</a></dt>
<dd><p>converts absolute to apparent magnitudes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>absolute_magnitude</strong> – absolute magnitude of object</p></li>
<li><p><strong>d_parsec</strong> – distance to object in units parsec</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>apparent magnitude</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.data_util.adu2electrons">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.data_util.</span></span><span class="sig-name descname"><span class="pre">adu2electrons</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ccd_gain</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/data_util.html#adu2electrons"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.data_util.adu2electrons" title="Permalink to this definition">¶</a></dt>
<dd><p>converts analog-to-digital units into electron counts</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>adu</strong> – counts in analog-to-digital unit</p></li>
<li><p><strong>ccd_gain</strong> – CCD gain, meaning how many electrons are counted per unit ADU</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>counts in electrons</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.data_util.bkg_noise">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.data_util.</span></span><span class="sig-name descname"><span class="pre">bkg_noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">readout_noise</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exposure_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sky_brightness</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_scale</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_exposures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/data_util.html#bkg_noise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.data_util.bkg_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the expected Gaussian background noise of a pixel in units of counts/second</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>readout_noise</strong> – noise added per readout</p></li>
<li><p><strong>exposure_time</strong> – exposure time per exposure (in seconds)</p></li>
<li><p><strong>sky_brightness</strong> – counts per second per unit arcseconds square</p></li>
<li><p><strong>pixel_scale</strong> – size of pixel in units arcseonds</p></li>
<li><p><strong>num_exposures</strong> – number of exposures (with same exposure time) to be co-added</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>estimated Gaussian noise sqrt(variance)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.data_util.cps2magnitude">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.data_util.</span></span><span class="sig-name descname"><span class="pre">cps2magnitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">magnitude_zero_point</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/data_util.html#cps2magnitude"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.data_util.cps2magnitude" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cps</strong> – float, count-per-second</p></li>
<li><p><strong>magnitude_zero_point</strong> – magnitude zero point</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>magnitude for given counts</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.data_util.electrons2adu">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.data_util.</span></span><span class="sig-name descname"><span class="pre">electrons2adu</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">electrons</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ccd_gain</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/data_util.html#electrons2adu"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.data_util.electrons2adu" title="Permalink to this definition">¶</a></dt>
<dd><p>converts electron counts into analog-to-digital unit</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>electrons</strong> – number of electrons received on detector</p></li>
<li><p><strong>ccd_gain</strong> – CCD gain, meaning how many electrons are counted per unit ADU</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>adu value in Analog-to-digital units corresponding to electron count</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.data_util.flux_noise">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.data_util.</span></span><span class="sig-name descname"><span class="pre">flux_noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cps_pixel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exposure_time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/data_util.html#flux_noise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.data_util.flux_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the variance of the shot noise Gaussian approximation of Poisson noise term</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cps_pixel</strong> – counts per second of the intensity per pixel unit</p></li>
<li><p><strong>exposure_time</strong> – total exposure time (in units seconds or equivalent unit as cps_pixel)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>sqrt(variance) of pixel value</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.data_util.magnitude2cps">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.data_util.</span></span><span class="sig-name descname"><span class="pre">magnitude2cps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">magnitude</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">magnitude_zero_point</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/data_util.html#magnitude2cps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.data_util.magnitude2cps" title="Permalink to this definition">¶</a></dt>
<dd><p>converts an apparent magnitude to counts per second</p>
<p>The zero point of an instrument, by definition, is the magnitude of an object that produces one count
(or data number, DN) per second. The magnitude of an arbitrary object producing DN counts in an observation of
length EXPTIME is therefore:
m = -2.5 x log10(DN / EXPTIME) + ZEROPOINT</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>magnitude</strong> – astronomical magnitude</p></li>
<li><p><strong>magnitude_zero_point</strong> – magnitude zero point (astronomical magnitude with 1 count per second)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>counts per second of astronomical object</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-lenstronomy.Util.derivative_util">
<span id="lenstronomy-util-derivative-util-module"></span><h2>lenstronomy.Util.derivative_util module<a class="headerlink" href="#module-lenstronomy.Util.derivative_util" title="Permalink to this headline">¶</a></h2>
<p>routines to compute derivatives of spherical functions</p>
<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.derivative_util.d_phi_dx">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.derivative_util.</span></span><span class="sig-name descname"><span class="pre">d_phi_dx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/derivative_util.html#d_phi_dx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.derivative_util.d_phi_dx" title="Permalink to this definition">¶</a></dt>
<dd><p>angular derivative in respect to x when phi = arctan2(y, x)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – </p></li>
<li><p><strong>y</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.derivative_util.d_phi_dxx">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.derivative_util.</span></span><span class="sig-name descname"><span class="pre">d_phi_dxx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/derivative_util.html#d_phi_dxx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.derivative_util.d_phi_dxx" title="Permalink to this definition">¶</a></dt>
<dd><p>second derivative of the orientation angle</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – </p></li>
<li><p><strong>y</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.derivative_util.d_phi_dxy">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.derivative_util.</span></span><span class="sig-name descname"><span class="pre">d_phi_dxy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/derivative_util.html#d_phi_dxy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.derivative_util.d_phi_dxy" title="Permalink to this definition">¶</a></dt>
<dd><p>second derivative of the orientation angle in dxdy</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – </p></li>
<li><p><strong>y</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.derivative_util.d_phi_dy">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.derivative_util.</span></span><span class="sig-name descname"><span class="pre">d_phi_dy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/derivative_util.html#d_phi_dy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.derivative_util.d_phi_dy" title="Permalink to this definition">¶</a></dt>
<dd><p>angular derivative in respect to y when phi = arctan2(y, x)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – </p></li>
<li><p><strong>y</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.derivative_util.d_phi_dyy">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.derivative_util.</span></span><span class="sig-name descname"><span class="pre">d_phi_dyy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/derivative_util.html#d_phi_dyy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.derivative_util.d_phi_dyy" title="Permalink to this definition">¶</a></dt>
<dd><p>second derivative of the orientation angle in dydy</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – </p></li>
<li><p><strong>y</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.derivative_util.d_r_dx">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.derivative_util.</span></span><span class="sig-name descname"><span class="pre">d_r_dx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/derivative_util.html#d_r_dx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.derivative_util.d_r_dx" title="Permalink to this definition">¶</a></dt>
<dd><p>derivative of r with respect to x
:param x:
:param y:
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.derivative_util.d_r_dxx">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.derivative_util.</span></span><span class="sig-name descname"><span class="pre">d_r_dxx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/derivative_util.html#d_r_dxx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.derivative_util.d_r_dxx" title="Permalink to this definition">¶</a></dt>
<dd><p>second derivative dr/dxdx
:param x:
:param y:
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.derivative_util.d_r_dxy">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.derivative_util.</span></span><span class="sig-name descname"><span class="pre">d_r_dxy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/derivative_util.html#d_r_dxy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.derivative_util.d_r_dxy" title="Permalink to this definition">¶</a></dt>
<dd><p>second derivative dr/dxdx
:param x:
:param y:
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.derivative_util.d_r_dy">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.derivative_util.</span></span><span class="sig-name descname"><span class="pre">d_r_dy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/derivative_util.html#d_r_dy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.derivative_util.d_r_dy" title="Permalink to this definition">¶</a></dt>
<dd><p>differential dr/dy</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – </p></li>
<li><p><strong>y</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.derivative_util.d_r_dyy">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.derivative_util.</span></span><span class="sig-name descname"><span class="pre">d_r_dyy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/derivative_util.html#d_r_dyy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.derivative_util.d_r_dyy" title="Permalink to this definition">¶</a></dt>
<dd><p>second derivative dr/dxdx
:param x:
:param y:
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.derivative_util.d_x_diffr_dx">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.derivative_util.</span></span><span class="sig-name descname"><span class="pre">d_x_diffr_dx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/derivative_util.html#d_x_diffr_dx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.derivative_util.d_x_diffr_dx" title="Permalink to this definition">¶</a></dt>
<dd><p>derivative of d(x/r)/dx
equivalent to second order derivatives dr_dxx</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – </p></li>
<li><p><strong>y</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.derivative_util.d_x_diffr_dy">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.derivative_util.</span></span><span class="sig-name descname"><span class="pre">d_x_diffr_dy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/derivative_util.html#d_x_diffr_dy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.derivative_util.d_x_diffr_dy" title="Permalink to this definition">¶</a></dt>
<dd><p>derivative of d(x/r)/dy
equivalent to second order derivatives dr_dyx</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – </p></li>
<li><p><strong>y</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.derivative_util.d_y_diffr_dx">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.derivative_util.</span></span><span class="sig-name descname"><span class="pre">d_y_diffr_dx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/derivative_util.html#d_y_diffr_dx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.derivative_util.d_y_diffr_dx" title="Permalink to this definition">¶</a></dt>
<dd><p>derivative of d(y/r)/dx
equivalent to second order derivatives dr_dxy</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – </p></li>
<li><p><strong>y</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.derivative_util.d_y_diffr_dy">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.derivative_util.</span></span><span class="sig-name descname"><span class="pre">d_y_diffr_dy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/derivative_util.html#d_y_diffr_dy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.derivative_util.d_y_diffr_dy" title="Permalink to this definition">¶</a></dt>
<dd><p>derivative of d(y/r)/dy
equivalent to second order derivatives dr_dyy</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – </p></li>
<li><p><strong>y</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-lenstronomy.Util.image_util">
<span id="lenstronomy-util-image-util-module"></span><h2>lenstronomy.Util.image_util module<a class="headerlink" href="#module-lenstronomy.Util.image_util" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.image_util.add_background">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.image_util.</span></span><span class="sig-name descname"><span class="pre">add_background</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_bkd</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/image_util.html#add_background"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.image_util.add_background" title="Permalink to this definition">¶</a></dt>
<dd><p>adds background noise to image
:param image: pixel values of image
:param sigma_bkd: background noise (sigma)
:return: a realisation of Gaussian noise of the same size as image</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.image_util.add_layer2image">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.image_util.</span></span><span class="sig-name descname"><span class="pre">add_layer2image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid2d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/image_util.html#add_layer2image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.image_util.add_layer2image" title="Permalink to this definition">¶</a></dt>
<dd><p>adds a kernel on the grid2d image at position x_pos, y_pos with an interpolated subgrid pixel shift of order=order
:param grid2d: 2d pixel grid (i.e. image)
:param x_pos: x-position center (pixel coordinate) of the layer to be added
:param y_pos: y-position center (pixel coordinate) of the layer to be added
:param kernel: the layer to be added to the image
:param order: interpolation order for sub-pixel shift of the kernel to be added
:return: image with added layer, cut to original size</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.image_util.add_layer2image_int">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.image_util.</span></span><span class="sig-name descname"><span class="pre">add_layer2image_int</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid2d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/image_util.html#add_layer2image_int"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.image_util.add_layer2image_int" title="Permalink to this definition">¶</a></dt>
<dd><p>adds a kernel on the grid2d image at position x_pos, y_pos at integer positions of pixel
:param grid2d: 2d pixel grid (i.e. image)
:param x_pos: x-position center (pixel coordinate) of the layer to be added
:param y_pos: y-position center (pixel coordinate) of the layer to be added
:param kernel: the layer to be added to the image
:return: image with added layer</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.image_util.add_poisson">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.image_util.</span></span><span class="sig-name descname"><span class="pre">add_poisson</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exp_time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/image_util.html#add_poisson"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.image_util.add_poisson" title="Permalink to this definition">¶</a></dt>
<dd><p>adds a poison (or Gaussian) distributed noise with mean given by surface brightness
:param image: pixel values (photon counts per unit exposure time)
:param exp_time: exposure time
:return: Poisson noise realization of input image</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.image_util.coordInImage">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.image_util.</span></span><span class="sig-name descname"><span class="pre">coordInImage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_coord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_coord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_pix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deltapix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/image_util.html#coordInImage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.image_util.coordInImage" title="Permalink to this definition">¶</a></dt>
<dd><p>checks whether image positions are within the pixel image in units of arcsec
if not: remove it</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>imcoord</strong> (<em>(</em><em>n</em><em>,</em><em>4</em><em>) </em><em>numpy array</em>) – image coordinate (in units of angels)  [[x,y,delta,magnification][…]]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>image positions within the pixel image</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.image_util.cut_edges">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.image_util.</span></span><span class="sig-name descname"><span class="pre">cut_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_pix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/image_util.html#cut_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.image_util.cut_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>cuts out the edges of a 2d image and returns re-sized image to numPix
center is well defined for odd pixel sizes.
:param image: 2d numpy array
:param num_pix: square size of cut out image
:return: cutout image with size numPix</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.image_util.findOverlap">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.image_util.</span></span><span class="sig-name descname"><span class="pre">findOverlap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_mins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_mins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_distance</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/image_util.html#findOverlap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.image_util.findOverlap" title="Permalink to this definition">¶</a></dt>
<dd><p>finds overlapping solutions, deletes multiples and deletes non-solutions and if it is not a solution, deleted as well</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.image_util.gradient_map">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.image_util.</span></span><span class="sig-name descname"><span class="pre">gradient_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/image_util.html#gradient_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.image_util.gradient_map" title="Permalink to this definition">¶</a></dt>
<dd><p>computes gradients of images with the sobel transform</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> – 2d numpy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array of same size as input, with gradients between neighboring pixels</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.image_util.radial_profile">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.image_util.</span></span><span class="sig-name descname"><span class="pre">radial_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/image_util.html#radial_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.image_util.radial_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>computes radial profile</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 2d numpy array</p></li>
<li><p><strong>center</strong> – center [x, y] from where to compute the radial profile</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>radial profile (in units pixel)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.image_util.re_size">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.image_util.</span></span><span class="sig-name descname"><span class="pre">re_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/image_util.html#re_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.image_util.re_size" title="Permalink to this definition">¶</a></dt>
<dd><p>re-sizes image with nx x ny to nx/factor x ny/factor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – 2d image with shape (nx,ny)</p></li>
<li><p><strong>factor</strong> – integer &gt;=1</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.image_util.re_size_array">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.image_util.</span></span><span class="sig-name descname"><span class="pre">re_size_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_out</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_out</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/image_util.html#re_size_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.image_util.re_size_array" title="Permalink to this definition">¶</a></dt>
<dd><p>resizes 2d array (i.e. image) to new coordinates. So far only works with square output aligned with coordinate axis.
:param x_in:
:param y_in:
:param input_values:
:param x_out:
:param y_out:
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.image_util.rebin_coord_transform">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.image_util.</span></span><span class="sig-name descname"><span class="pre">rebin_coord_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">factor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_at_radec_0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_at_radec_0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Mpix2coord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Mcoord2pix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/image_util.html#rebin_coord_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.image_util.rebin_coord_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>adopt coordinate system and transformation between angular and pixel coordinates of a re-binned image
:param bin_size:
:param ra_0:
:param dec_0:
:param x_0:
:param y_0:
:param Matrix:
:param Matrix_inv:
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.image_util.rebin_image">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.image_util.</span></span><span class="sig-name descname"><span class="pre">rebin_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bin_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wht_map</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_bkg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ra_coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idex_mask</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/image_util.html#rebin_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.image_util.rebin_image" title="Permalink to this definition">¶</a></dt>
<dd><p>re-bins pixels, updates cutout image, wht_map, sigma_bkg, coordinates, PSF</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bin_size</strong> – number of pixels (per axis) to merge</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.image_util.rotateImage">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.image_util.</span></span><span class="sig-name descname"><span class="pre">rotateImage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/image_util.html#rotateImage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.image_util.rotateImage" title="Permalink to this definition">¶</a></dt>
<dd><p>querries scipy.ndimage.rotate routine
:param img: image to be rotated
:param angle: angle to be rotated (radian)
:return: rotated image</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.image_util.stack_images">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.image_util.</span></span><span class="sig-name descname"><span class="pre">stack_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wht_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/image_util.html#stack_images"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.image_util.stack_images" title="Permalink to this definition">¶</a></dt>
<dd><p>stacks images and saves new image as a fits file
:param image_name_list: list of image_names to be stacked
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.image_util.symmetry_average">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.image_util.</span></span><span class="sig-name descname"><span class="pre">symmetry_average</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetry</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/image_util.html#symmetry_average"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.image_util.symmetry_average" title="Permalink to this definition">¶</a></dt>
<dd><p>symmetry averaged image
:param image:
:param symmetry:
:return:</p>
</dd></dl>

</section>
<section id="module-lenstronomy.Util.kernel_util">
<span id="lenstronomy-util-kernel-util-module"></span><h2>lenstronomy.Util.kernel_util module<a class="headerlink" href="#module-lenstronomy.Util.kernel_util" title="Permalink to this headline">¶</a></h2>
<p>routines that manipulate convolution kernels</p>
<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.kernel_util.averaging_even_kernel">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.kernel_util.</span></span><span class="sig-name descname"><span class="pre">averaging_even_kernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel_high_res</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subgrid_res</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/kernel_util.html#averaging_even_kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.kernel_util.averaging_even_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>makes a lower resolution kernel based on the kernel_high_res (odd numbers) and the subgrid_res (even number), both
meant to be centered.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kernel_high_res</strong> – high resolution kernel with even subsampling resolution, centered</p></li>
<li><p><strong>subgrid_res</strong> – subsampling resolution (even number)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>averaged undersampling kernel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.kernel_util.center_kernel">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.kernel_util.</span></span><span class="sig-name descname"><span class="pre">center_kernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/kernel_util.html#center_kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.kernel_util.center_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>given a kernel that might not be perfectly centered, this routine computes its light weighted center and then
moves the center in an iterative process such that it is centered</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kernel</strong> – 2d array (odd numbers)</p></li>
<li><p><strong>iterations</strong> – int, number of iterations</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>centered kernel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.kernel_util.cut_psf">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.kernel_util.</span></span><span class="sig-name descname"><span class="pre">cut_psf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">psf_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">psf_size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/kernel_util.html#cut_psf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.kernel_util.cut_psf" title="Permalink to this definition">¶</a></dt>
<dd><p>cut the psf properly
:param psf_data: image of PSF
:param psf_size: size of psf
:return: re-sized and re-normalized PSF</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.kernel_util.cutout_source">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.kernel_util.</span></span><span class="sig-name descname"><span class="pre">cutout_source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernelsize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/kernel_util.html#cutout_source"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.kernel_util.cutout_source" title="Permalink to this definition">¶</a></dt>
<dd><p>cuts out point source (e.g. PSF estimate) out of image and shift it to the center of a pixel
:param x_pos:
:param y_pos:
:param image:
:param kernelsize:
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.kernel_util.de_shift_kernel">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.kernel_util.</span></span><span class="sig-name descname"><span class="pre">de_shift_kernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fractional_step_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/kernel_util.html#de_shift_kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.kernel_util.de_shift_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>de-shifts a shifted kernel to the center of a pixel. This is performed iteratively.</p>
<dl class="simple">
<dt>The input kernel is the solution of a linear interpolated shift of a sharper kernel centered in the middle of the</dt><dd><p>pixel. To find the de-shifted kernel, we perform an iterative correction of proposed de-shifted kernels and compare
its shifted version with the input kernel.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kernel</strong> – (shifted) kernel, e.g. a star in an image that is not centered in the pixel grid</p></li>
<li><p><strong>shift_x</strong> – x-offset relative to the center of the pixel (sub-pixel shift)</p></li>
<li><p><strong>shift_y</strong> – y-offset relative to the center of the pixel (sub-pixel shift)</p></li>
<li><p><strong>iterations</strong> – number of repeated iterations of shifting a new de-shifted kernel and apply corrections</p></li>
<li><p><strong>fractional_step_size</strong> – float (0, 1] correction factor relative to previous proposal (can be used for stability</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>de-shifted kernel such that the interpolated shift boy (shift_x, shift_y) results in the input kernel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.kernel_util.degrade_kernel">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.kernel_util.</span></span><span class="sig-name descname"><span class="pre">degrade_kernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel_super</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">degrading_factor</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/kernel_util.html#degrade_kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.kernel_util.degrade_kernel" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kernel_super</strong> – higher resolution kernel (odd number per axis)</p></li>
<li><p><strong>degrading_factor</strong> – degrading factor (effectively the super-sampling resolution of the kernel given</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>degraded kernel with odd axis number with the sum of the flux/values in the kernel being preserved</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.kernel_util.estimate_amp">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.kernel_util.</span></span><span class="sig-name descname"><span class="pre">estimate_amp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">psf_kernel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/kernel_util.html#estimate_amp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.kernel_util.estimate_amp" title="Permalink to this definition">¶</a></dt>
<dd><p>estimates the amplitude of a point source located at x_pos, y_pos
:param data:
:param x_pos:
:param y_pos:
:param psf_kernel:
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.kernel_util.fwhm_kernel">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.kernel_util.</span></span><span class="sig-name descname"><span class="pre">fwhm_kernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/kernel_util.html#fwhm_kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.kernel_util.fwhm_kernel" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kernel</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.kernel_util.kernel_average_pixel">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.kernel_util.</span></span><span class="sig-name descname"><span class="pre">kernel_average_pixel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel_super</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">supersampling_factor</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/kernel_util.html#kernel_average_pixel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.kernel_util.kernel_average_pixel" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the effective convolution kernel assuming a uniform surface brightness on the scale of a pixel</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kernel_super</strong> – supersampled PSF of a point source (odd number per axis</p></li>
<li><p><strong>supersampling_factor</strong> – supersampling factor (int)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.kernel_util.kernel_gaussian">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.kernel_util.</span></span><span class="sig-name descname"><span class="pre">kernel_gaussian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel_numPix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deltaPix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fwhm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/kernel_util.html#kernel_gaussian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.kernel_util.kernel_gaussian" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.kernel_util.kernel_norm">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.kernel_util.</span></span><span class="sig-name descname"><span class="pre">kernel_norm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/kernel_util.html#kernel_norm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.kernel_util.kernel_norm" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kernel</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>normalisation of the psf kernel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.kernel_util.kernel_pixelsize_change">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.kernel_util.</span></span><span class="sig-name descname"><span class="pre">kernel_pixelsize_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deltaPix_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deltaPix_out</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/kernel_util.html#kernel_pixelsize_change"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.kernel_util.kernel_pixelsize_change" title="Permalink to this definition">¶</a></dt>
<dd><p>change the pixel size of a given kernel
:param kernel:
:param deltaPix_in:
:param deltaPix_out:
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.kernel_util.match_kernel_size">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.kernel_util.</span></span><span class="sig-name descname"><span class="pre">match_kernel_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/kernel_util.html#match_kernel_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.kernel_util.match_kernel_size" title="Permalink to this definition">¶</a></dt>
<dd><p>matching kernel/image to a dedicated size by either expanding the image with zeros at the edges or chopping of the
edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – 2d array (square with odd number of pixels)</p></li>
<li><p><strong>size</strong> – integer (odd number)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>image with matched size, either by cutting or by adding zeros in the outskirts</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.kernel_util.mge_kernel">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.kernel_util.</span></span><span class="sig-name descname"><span class="pre">mge_kernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/kernel_util.html#mge_kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.kernel_util.mge_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>azimutal Multi-Gaussian expansion of a pixelized kernel</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kernel</strong> – 2d numpy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.kernel_util.pixel_kernel">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.kernel_util.</span></span><span class="sig-name descname"><span class="pre">pixel_kernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point_source_kernel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subgrid_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/kernel_util.html#pixel_kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.kernel_util.pixel_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>converts a pixelised kernel of a point source to a kernel representing a uniform extended pixel</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>point_source_kernel</strong> – </p></li>
<li><p><strong>subgrid_res</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>convolution kernel for an extended pixel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.kernel_util.split_kernel">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.kernel_util.</span></span><span class="sig-name descname"><span class="pre">split_kernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel_super</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">supersampling_kernel_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">supersampling_factor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/kernel_util.html#split_kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.kernel_util.split_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>pixel kernel and subsampling kernel such that the convolution of both applied on an image can be
performed, i.e. smaller subsampling PSF and hole in larger PSF</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kernel_super</strong> – super-sampled kernel</p></li>
<li><p><strong>supersampling_kernel_size</strong> – size of super-sampled PSF in units of degraded pixels</p></li>
<li><p><strong>normalized</strong> – boolean, if True returns a split kernel that is area normalized=1 representing a convolution kernel</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>degraded kernel with hole and super-sampled kernel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.kernel_util.subgrid_kernel">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.kernel_util.</span></span><span class="sig-name descname"><span class="pre">subgrid_kernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subgrid_res</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">odd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/kernel_util.html#subgrid_kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.kernel_util.subgrid_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>creates a higher resolution kernel with subgrid resolution as an interpolation of the original kernel in an
iterative approach</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kernel</strong> – initial kernel</p></li>
<li><p><strong>subgrid_res</strong> – subgrid resolution required</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>kernel with higher resolution (larger)</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-lenstronomy.Util.mask_util">
<span id="lenstronomy-util-mask-util-module"></span><h2>lenstronomy.Util.mask_util module<a class="headerlink" href="#module-lenstronomy.Util.mask_util" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.mask_util.mask_azimuthal">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.mask_util.</span></span><span class="sig-name descname"><span class="pre">mask_azimuthal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/mask_util.html#mask_azimuthal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.mask_util.mask_azimuthal" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – x-coordinates (1d or 2d array numpy array)</p></li>
<li><p><strong>y</strong> – y-coordinates (1d or 2d array numpy array)</p></li>
<li><p><strong>center_x</strong> – center of azimuthal mask in x</p></li>
<li><p><strong>center_y</strong> – center of azimuthal mask in y</p></li>
<li><p><strong>r</strong> – radius of azimuthal mask</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array with zeros outside r and ones inside azimuthal radius r</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.mask_util.mask_center_2d">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.mask_util.</span></span><span class="sig-name descname"><span class="pre">mask_center_2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">center_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_grid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/mask_util.html#mask_center_2d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.mask_util.mask_center_2d" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>center_x</strong> – x-coordinate of center position of circular mask</p></li>
<li><p><strong>center_y</strong> – y-coordinate of center position of circular mask</p></li>
<li><p><strong>r</strong> – radius of mask in pixel values</p></li>
<li><p><strong>x_grid</strong> – x-coordinate grid</p></li>
<li><p><strong>y_grid</strong> – y-coordinate grid</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>mask array of shape x_grid with =0 inside the radius and =1 outside</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.mask_util.mask_ellipse">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.mask_util.</span></span><span class="sig-name descname"><span class="pre">mask_ellipse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/mask_util.html#mask_ellipse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.mask_util.mask_ellipse" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – x-coordinates of pixels</p></li>
<li><p><strong>y</strong> – y-coordinates of pixels</p></li>
<li><p><strong>center_x</strong> – center of mask</p></li>
<li><p><strong>center_y</strong> – center of mask</p></li>
<li><p><strong>a</strong> – major axis</p></li>
<li><p><strong>b</strong> – minor axis</p></li>
<li><p><strong>angle</strong> – angle of major axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>mask (list of zeros and ones)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.mask_util.mask_half_moon">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.mask_util.</span></span><span class="sig-name descname"><span class="pre">mask_half_moon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_out</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_phi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6.283185307179586</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/mask_util.html#mask_half_moon"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.mask_util.mask_half_moon" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – </p></li>
<li><p><strong>y</strong> – </p></li>
<li><p><strong>center_x</strong> – </p></li>
<li><p><strong>center_y</strong> – </p></li>
<li><p><strong>r_in</strong> – </p></li>
<li><p><strong>r_out</strong> – </p></li>
<li><p><strong>phi0</strong> – </p></li>
<li><p><strong>delta_phi</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-lenstronomy.Util.multi_gauss_expansion">
<span id="lenstronomy-util-multi-gauss-expansion-module"></span><h2>lenstronomy.Util.multi_gauss_expansion module<a class="headerlink" href="#module-lenstronomy.Util.multi_gauss_expansion" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.multi_gauss_expansion.de_projection_3d">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.multi_gauss_expansion.</span></span><span class="sig-name descname"><span class="pre">de_projection_3d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">amplitudes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigmas</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/multi_gauss_expansion.html#de_projection_3d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.multi_gauss_expansion.de_projection_3d" title="Permalink to this definition">¶</a></dt>
<dd><p>de-projects a gaussian (or list of multiple Gaussians from a 2d projected to a 3d profile)
:param amplitudes:
:param sigmas:
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.multi_gauss_expansion.gaussian">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.multi_gauss_expansion.</span></span><span class="sig-name descname"><span class="pre">gaussian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">R</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/multi_gauss_expansion.html#gaussian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.multi_gauss_expansion.gaussian" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> – radius</p></li>
<li><p><strong>sigma</strong> – gaussian sigma</p></li>
<li><p><strong>amp</strong> – normalization</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Gaussian function</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.multi_gauss_expansion.mge_1d">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.multi_gauss_expansion.</span></span><span class="sig-name descname"><span class="pre">mge_1d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linspace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/multi_gauss_expansion.html#mge_1d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.multi_gauss_expansion.mge_1d" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r_array</strong> – list or radii (numpy array)</p></li>
<li><p><strong>flux_r</strong> – list of flux values (numpy array)</p></li>
<li><p><strong>N</strong> – number of Gaussians</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>amplitudes and Gaussian sigmas for the best 1d flux profile</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-lenstronomy.Util.numba_util">
<span id="lenstronomy-util-numba-util-module"></span><h2>lenstronomy.Util.numba_util module<a class="headerlink" href="#module-lenstronomy.Util.numba_util" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.numba_util.generated_jit">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.numba_util.</span></span><span class="sig-name descname"><span class="pre">generated_jit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nopython</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fastmath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'numpy'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/numba_util.html#generated_jit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.numba_util.generated_jit" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Wrapper around numba.generated_jit. Allows you to redirect a function to another based on its type</dt><dd><ul class="simple">
<li><p>see the Numba docs for more info</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.numba_util.jit">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.numba_util.</span></span><span class="sig-name descname"><span class="pre">jit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nopython</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fastmath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'numpy'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'never'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/numba_util.html#jit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.numba_util.jit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.numba_util.nan_to_num">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.numba_util.</span></span><span class="sig-name descname"><span class="pre">nan_to_num</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">posinf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000000000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neginf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">10000000000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/numba_util.html#nan_to_num"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.numba_util.nan_to_num" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements a Numba equivalent to np.nan_to_num (with copy=False!) array or scalar in Numba.
Behaviour is the same as np.nan_to_num with copy=False, although it only supports 1-dimensional arrays and
scalar inputs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.numba_util.nan_to_num_arr">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.numba_util.</span></span><span class="sig-name descname"><span class="pre">nan_to_num_arr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">posinf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000000000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neginf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">10000000000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/numba_util.html#nan_to_num_arr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.numba_util.nan_to_num_arr" title="Permalink to this definition">¶</a></dt>
<dd><p>Part of the Numba implementation of np.nan_to_num - see nan_to_num</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.numba_util.nan_to_num_single">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.numba_util.</span></span><span class="sig-name descname"><span class="pre">nan_to_num_single</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">posinf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000000000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neginf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">10000000000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/numba_util.html#nan_to_num_single"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.numba_util.nan_to_num_single" title="Permalink to this definition">¶</a></dt>
<dd><p>Part of the Numba implementation of np.nan_to_num - see nan_to_num</p>
</dd></dl>

</section>
<section id="module-lenstronomy.Util.param_util">
<span id="lenstronomy-util-param-util-module"></span><h2>lenstronomy.Util.param_util module<a class="headerlink" href="#module-lenstronomy.Util.param_util" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.param_util.cart2polar">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.param_util.</span></span><span class="sig-name descname"><span class="pre">cart2polar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/param_util.html#cart2polar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.param_util.cart2polar" title="Permalink to this definition">¶</a></dt>
<dd><p>transforms cartesian coords [x,y] into polar coords [r,phi] in the frame of the lens center</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array of size</em><em> (</em><em>n</em><em>)</em>) – set of x-coordinates</p></li>
<li><p><strong>y</strong> (<em>array of size</em><em> (</em><em>n</em><em>)</em>) – set of x-coordinates</p></li>
<li><p><strong>center_x</strong> (<em>float</em>) – rotation point</p></li>
<li><p><strong>center_y</strong> (<em>float</em>) – rotation point</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array of same size with coords [r,phi]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.param_util.ellipticity2phi_q">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.param_util.</span></span><span class="sig-name descname"><span class="pre">ellipticity2phi_q</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/param_util.html#ellipticity2phi_q"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.param_util.ellipticity2phi_q" title="Permalink to this definition">¶</a></dt>
<dd><p>transforms complex ellipticity moduli in orientation angle and axis ratio</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>e1</strong> – eccentricity in x-direction</p></li>
<li><p><strong>e2</strong> – eccentricity in xy-direction</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>angle in radian, axis ratio (minor/major)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.param_util.phi_q2_ellipticity">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.param_util.</span></span><span class="sig-name descname"><span class="pre">phi_q2_ellipticity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/param_util.html#phi_q2_ellipticity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.param_util.phi_q2_ellipticity" title="Permalink to this definition">¶</a></dt>
<dd><p>transforms orientation angle and axis ratio into complex ellipticity moduli e1, e2</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phi</strong> – angle of orientation (in radian)</p></li>
<li><p><strong>q</strong> – axis ratio minor axis / major axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>eccentricities e1 and e2 in complex ellipticity moduli</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.param_util.polar2cart">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.param_util.</span></span><span class="sig-name descname"><span class="pre">polar2cart</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/param_util.html#polar2cart"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.param_util.polar2cart" title="Permalink to this definition">¶</a></dt>
<dd><p>transforms polar coords [r,phi] into cartesian coords [x,y] in the frame of the lense center</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coord</strong> (<em>array of size</em><em> (</em><em>n</em><em>,</em><em>2</em><em>)</em>) – set of coordinates</p></li>
<li><p><strong>center</strong> (<em>array of size</em><em> (</em><em>2</em><em>)</em>) – rotation point</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array of same size with coords [x,y]</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>AttributeError, KeyError</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.param_util.shear_cartesian2polar">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.param_util.</span></span><span class="sig-name descname"><span class="pre">shear_cartesian2polar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gamma1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/param_util.html#shear_cartesian2polar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.param_util.shear_cartesian2polar" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gamma1</strong> – cartesian shear component</p></li>
<li><p><strong>gamma2</strong> – cartesian shear component</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>shear angle, shear strength</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.param_util.shear_polar2cartesian">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.param_util.</span></span><span class="sig-name descname"><span class="pre">shear_polar2cartesian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/param_util.html#shear_polar2cartesian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.param_util.shear_polar2cartesian" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phi</strong> – shear angle (radian)</p></li>
<li><p><strong>gamma</strong> – shear strength</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>shear components gamma1, gamma2</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.param_util.transform_e1e2_product_average">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.param_util.</span></span><span class="sig-name descname"><span class="pre">transform_e1e2_product_average</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/param_util.html#transform_e1e2_product_average"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.param_util.transform_e1e2_product_average" title="Permalink to this definition">¶</a></dt>
<dd><p>maps the coordinates x, y with eccentricities e1 e2 into a new elliptical coordinate system
such that R = sqrt(R_major * R_minor)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – x-coordinate</p></li>
<li><p><strong>y</strong> – y-coordinate</p></li>
<li><p><strong>e1</strong> – eccentricity</p></li>
<li><p><strong>e2</strong> – eccentricity</p></li>
<li><p><strong>center_x</strong> – center of distortion</p></li>
<li><p><strong>center_y</strong> – center of distortion</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>distorted coordinates x’, y’</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.param_util.transform_e1e2_square_average">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.param_util.</span></span><span class="sig-name descname"><span class="pre">transform_e1e2_square_average</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/param_util.html#transform_e1e2_square_average"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.param_util.transform_e1e2_square_average" title="Permalink to this definition">¶</a></dt>
<dd><p>maps the coordinates x, y with eccentricities e1 e2 into a new elliptical coordinate system
such that R = sqrt(R_major**2 + R_minor**2)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – x-coordinate</p></li>
<li><p><strong>y</strong> – y-coordinate</p></li>
<li><p><strong>e1</strong> – eccentricity</p></li>
<li><p><strong>e2</strong> – eccentricity</p></li>
<li><p><strong>center_x</strong> – center of distortion</p></li>
<li><p><strong>center_y</strong> – center of distortion</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>distorted coordinates x’, y’</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-lenstronomy.Util.prob_density">
<span id="lenstronomy-util-prob-density-module"></span><h2>lenstronomy.Util.prob_density module<a class="headerlink" href="#module-lenstronomy.Util.prob_density" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="lenstronomy.Util.prob_density.KDE1D">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.prob_density.</span></span><span class="sig-name descname"><span class="pre">KDE1D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/prob_density.html#KDE1D"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.prob_density.KDE1D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>class that allows to compute likelihoods based on a 1-d posterior sample</p>
<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Util.prob_density.KDE1D.likelihood">
<span class="sig-name descname"><span class="pre">likelihood</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/prob_density.html#KDE1D.likelihood"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.prob_density.KDE1D.likelihood" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> – position where to evaluate the density</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>likelihood given the sample distribution</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="lenstronomy.Util.prob_density.SkewGaussian">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.prob_density.</span></span><span class="sig-name descname"><span class="pre">SkewGaussian</span></span><a class="reference internal" href="_modules/lenstronomy/Util/prob_density.html#SkewGaussian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.prob_density.SkewGaussian" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>class for the Skew Gaussian distribution</p>
<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Util.prob_density.SkewGaussian.map_mu_sigma_skw">
<span class="sig-name descname"><span class="pre">map_mu_sigma_skw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/prob_density.html#SkewGaussian.map_mu_sigma_skw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.prob_density.SkewGaussian.map_mu_sigma_skw" title="Permalink to this definition">¶</a></dt>
<dd><p>map to parameters e, w, a
:param mu: mean
:param sigma: standard deviation
:param skw: skewness
:return: e, w, a</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Util.prob_density.SkewGaussian.pdf">
<span class="sig-name descname"><span class="pre">pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/prob_density.html#SkewGaussian.pdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.prob_density.SkewGaussian.pdf" title="Permalink to this definition">¶</a></dt>
<dd><p>probability density function
see: <a class="reference external" href="https://en.wikipedia.org/wiki/Skew_normal_distribution">https://en.wikipedia.org/wiki/Skew_normal_distribution</a>
:param x: input value
:param e:
:param w:
:param a:
:return:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Util.prob_density.SkewGaussian.pdf_skew">
<span class="sig-name descname"><span class="pre">pdf_skew</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/prob_density.html#SkewGaussian.pdf_skew"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.prob_density.SkewGaussian.pdf_skew" title="Permalink to this definition">¶</a></dt>
<dd><p>function with different parameterisation
:param x:
:param mu: mean
:param sigma: sigma
:param skw: skewness
:return:</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.prob_density.compute_lower_upper_errors">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.prob_density.</span></span><span class="sig-name descname"><span class="pre">compute_lower_upper_errors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/prob_density.html#compute_lower_upper_errors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.prob_density.compute_lower_upper_errors" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the upper and lower sigma from the median value.
This functions gives good error estimates for skewed pdf’s
:param sample: 1-D sample
:param num_sigma: integer, number of sigmas to be returned
:return: median, lower_sigma, upper_sigma</p>
</dd></dl>

</section>
<section id="module-lenstronomy.Util.sampling_util">
<span id="lenstronomy-util-sampling-util-module"></span><h2>lenstronomy.Util.sampling_util module<a class="headerlink" href="#module-lenstronomy.Util.sampling_util" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.sampling_util.cube2args_gaussian">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.sampling_util.</span></span><span class="sig-name descname"><span class="pre">cube2args_gaussian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cube</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lowers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uppers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">means</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigmas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_dims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/sampling_util.html#cube2args_gaussian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.sampling_util.cube2args_gaussian" title="Permalink to this definition">¶</a></dt>
<dd><p>mapping from uniform distribution on unit hypercube ‘cube’
to truncated gaussian distribution on parameter space, 
with mean ‘mu’ and std dev ‘sigma’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cube</strong> – list or 1D-array of parameter values on unit hypercube</p></li>
<li><p><strong>lowers</strong> – lower bounds for each parameter</p></li>
<li><p><strong>uppers</strong> – upper bounds for each parameter</p></li>
<li><p><strong>means</strong> – gaussian mean for each parameter</p></li>
<li><p><strong>sigmas</strong> – gaussian std deviation for each parameter</p></li>
<li><p><strong>num_dims</strong> – parameter space dimension (= number of parameters)</p></li>
<li><p><strong>copy</strong> – If False, this function modifies ‘cube’ in-place. Default to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>hypercube mapped to parameters space</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.sampling_util.cube2args_uniform">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.sampling_util.</span></span><span class="sig-name descname"><span class="pre">cube2args_uniform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cube</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lowers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uppers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_dims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/sampling_util.html#cube2args_uniform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.sampling_util.cube2args_uniform" title="Permalink to this definition">¶</a></dt>
<dd><p>mapping from uniform distribution on unit hypercube ‘cube’
to uniform distribution on parameter space</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cube</strong> – list or 1D-array of parameter values on unit hypercube</p></li>
<li><p><strong>lowers</strong> – lower bounds for each parameter</p></li>
<li><p><strong>uppers</strong> – upper bounds for each parameter</p></li>
<li><p><strong>num_dims</strong> – parameter space dimension (= number of parameters)</p></li>
<li><p><strong>copy</strong> – If False, this function modifies ‘cube’ in-place. Default to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>hypercube mapped to parameters space</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.sampling_util.sample_ball">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.sampling_util.</span></span><span class="sig-name descname"><span class="pre">sample_ball</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'uniform'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/sampling_util.html#sample_ball"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.sampling_util.sample_ball" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce a ball of walkers around an initial parameter value.
this routine is from the emcee package as it became deprecated there</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p0</strong> – The initial parameter values (array).</p></li>
<li><p><strong>std</strong> – The axis-aligned standard deviation (array).</p></li>
<li><p><strong>size</strong> – The number of samples to produce.</p></li>
<li><p><strong>dist</strong> – string, specifies the distribution being sampled, supports ‘uniform’ and ‘normal’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.sampling_util.sample_ball_truncated">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.sampling_util.</span></span><span class="sig-name descname"><span class="pre">sample_ball_truncated</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_limit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_limit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/sampling_util.html#sample_ball_truncated"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.sampling_util.sample_ball_truncated" title="Permalink to this definition">¶</a></dt>
<dd><p>samples gaussian ball with truncation at lower and upper limit of the distribution</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mean</strong> – numpy array, mean of the distribution to be sampled</p></li>
<li><p><strong>sigma</strong> – numpy array, sigma of the distribution to be sampled</p></li>
<li><p><strong>lower_limit</strong> – numpy array, lower bound of to be sampled distribution</p></li>
<li><p><strong>upper_limit</strong> – numpy array, upper bound of to be sampled distribution</p></li>
<li><p><strong>size</strong> – number of tuples to be sampled</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>realization of truncated normal distribution with shape (size, dim(parameters))</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.sampling_util.scale_limits">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.sampling_util.</span></span><span class="sig-name descname"><span class="pre">scale_limits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lowers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uppers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/sampling_util.html#scale_limits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.sampling_util.scale_limits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.sampling_util.uniform2unit">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.sampling_util.</span></span><span class="sig-name descname"><span class="pre">uniform2unit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">theta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/sampling_util.html#uniform2unit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.sampling_util.uniform2unit" title="Permalink to this definition">¶</a></dt>
<dd><p>mapping from uniform distribution on unit hypercube
to uniform distribution on parameter space</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.sampling_util.unit2uniform">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.sampling_util.</span></span><span class="sig-name descname"><span class="pre">unit2uniform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/sampling_util.html#unit2uniform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.sampling_util.unit2uniform" title="Permalink to this definition">¶</a></dt>
<dd><p>mapping from uniform distribution on parameter space 
to uniform distribution on unit hypercube</p>
</dd></dl>

</section>
<section id="module-lenstronomy.Util.simulation_util">
<span id="lenstronomy-util-simulation-util-module"></span><h2>lenstronomy.Util.simulation_util module<a class="headerlink" href="#module-lenstronomy.Util.simulation_util" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.simulation_util.data_configure_simple">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.simulation_util.</span></span><span class="sig-name descname"><span class="pre">data_configure_simple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numPix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deltaPix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exposure_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background_rms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_ra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_dec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/simulation_util.html#data_configure_simple"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.simulation_util.data_configure_simple" title="Permalink to this definition">¶</a></dt>
<dd><p>configures the data keyword arguments with a coordinate grid centered at zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numPix</strong> – number of pixel (numPix x numPix)</p></li>
<li><p><strong>deltaPix</strong> – pixel size (in angular units)</p></li>
<li><p><strong>exposure_time</strong> – exposure time</p></li>
<li><p><strong>background_rms</strong> – background noise (Gaussian sigma)</p></li>
<li><p><strong>center_ra</strong> – RA at the center of the image</p></li>
<li><p><strong>center_dec</strong> – DEC at the center of the image</p></li>
<li><p><strong>inverse</strong> – if True, coordinate system is ra to the left, if False, to the right</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>keyword arguments that can be used to construct a Data() class instance of lenstronomy</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.simulation_util.simulate_simple">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.simulation_util.</span></span><span class="sig-name descname"><span class="pre">simulate_simple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_model_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_lens</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_lens_light</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_ps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_add</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_light_add</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_source_add</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/simulation_util.html#simulate_simple"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.simulation_util.simulate_simple" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image_model_class</strong> – </p></li>
<li><p><strong>kwargs_lens</strong> – </p></li>
<li><p><strong>kwargs_source</strong> – </p></li>
<li><p><strong>kwargs_lens_light</strong> – </p></li>
<li><p><strong>kwargs_ps</strong> – </p></li>
<li><p><strong>no_noise</strong> – </p></li>
<li><p><strong>source_add</strong> – </p></li>
<li><p><strong>lens_light_add</strong> – </p></li>
<li><p><strong>point_source_add</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-lenstronomy.Util.util">
<span id="lenstronomy-util-util-module"></span><h2>lenstronomy.Util.util module<a class="headerlink" href="#module-lenstronomy.Util.util" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.approx_theta_E">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">approx_theta_E</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ximg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yimg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#approx_theta_E"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.approx_theta_E" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.array2cube">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">array2cube</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_23</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#array2cube"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.array2cube" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the information contained in a 1d array of shape (n_1*n_23*n_23) into 3d array with shape (n_1, sqrt(n_23), sqrt(n_23))</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<em>1d array</em>) – image values</p></li>
<li><p><strong>n_1</strong> (<em>int</em>) – first dimension of returned array</p></li>
<li><p><strong>n_23</strong> (<em>int</em>) – square of second and third dimensions of returned array</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3d array</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – when n_23 is not a perfect square</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.array2image">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">array2image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ny</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#array2image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.array2image" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the information contained in a 1d array into an n*n 2d array
(only works when length of array is n**2, or nx and ny are provided)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>array</strong> (<em>array of size n**2</em>) – image values</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>2d array</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>AttributeError, KeyError</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.averaging">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">averaging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numGrid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numPix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#averaging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.averaging" title="Permalink to this definition">¶</a></dt>
<dd><p>resize 2d pixel grid with numGrid to numPix and averages over the pixels
:param grid: higher resolution pixel grid
:param numGrid: number of pixels per axis in the high resolution input image
:param numPix: lower number of pixels per axis in the output image (numGrid/numPix is integer number)
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.compare_distance">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">compare_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_mapped</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_mapped</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#compare_distance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.compare_distance" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_mapped</strong> – array of x-positions of remapped catalogue image</p></li>
<li><p><strong>y_mapped</strong> – array of y-positions of remapped catalogue image</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>sum of distance square of positions</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.convert_bool_list">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">convert_bool_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#convert_bool_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.convert_bool_list" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a bool list of the length of the lens models
if k = None: returns bool list with True’s
if k is int, returns bool list with False’s but k’th is True
if k is a list of int, e.g. [0, 3, 5], returns a bool list with True’s in the integers listed and False elsewhere
if k is a boolean list, checks for size to match the numbers of models and returns it</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> – integer, total lenght of output boolean list</p></li>
<li><p><strong>k</strong> – None, int, or list of ints</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>bool list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.cube2array">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">cube2array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cube</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#cube2array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.cube2array" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the information contained in a 3d array of shape (n_1, n_2, n_3) into 1d array with shape (n_1*n_2*n_3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cube</strong> (<em>3d array</em>) – image values</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>1d array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.displaceAbs">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">displaceAbs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sourcePos_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sourcePos_y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#displaceAbs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.displaceAbs" title="Permalink to this definition">¶</a></dt>
<dd><p>calculates a grid of distances to the observer in angel</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>numpy array</em>) – cartesian coordinates</p></li>
<li><p><strong>y</strong> (<em>numpy array</em>) – cartesian coordinates</p></li>
<li><p><strong>sourcePos_x</strong> (<em>float</em>) – source position</p></li>
<li><p><strong>sourcePos_y</strong> (<em>float</em>) – source position</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array of displacement</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>AttributeError, KeyError</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.fwhm2sigma">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">fwhm2sigma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fwhm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#fwhm2sigma"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.fwhm2sigma" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fwhm</strong> – full-widt-half-max value</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>gaussian sigma (sqrt(var))</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.get_axes">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">get_axes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#get_axes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.get_axes" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the axis x and y of a given 2d grid
:param x:
:param y:
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.get_distance">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">get_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_mins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_mins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#get_distance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.get_distance" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_mins</strong> – </p></li>
<li><p><strong>y_mins</strong> – </p></li>
<li><p><strong>x_true</strong> – </p></li>
<li><p><strong>y_true</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.grid_from_coordinate_transform">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">grid_from_coordinate_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ny</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Mpix2coord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ra_at_xy_0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_at_xy_0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#grid_from_coordinate_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.grid_from_coordinate_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>return a grid in x and y coordinates that satisfy the coordinate system</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nx</strong> – number of pixels in x-axis</p></li>
<li><p><strong>ny</strong> – number of pixels in y-axis</p></li>
<li><p><strong>Mpix2coord</strong> – transformation matrix (2x2) of pixels into coordinate displacements</p></li>
<li><p><strong>ra_at_xy_0</strong> – RA coordinate at (x,y) = (0,0)</p></li>
<li><p><strong>dec_at_xy_0</strong> – DEC coordinate at (x,y) = (0,0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RA coordinate grid, DEC coordinate grid</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.hyper2F2_array">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">hyper2F2_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#hyper2F2_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.hyper2F2_array" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> – </p></li>
<li><p><strong>b</strong> – </p></li>
<li><p><strong>c</strong> – </p></li>
<li><p><strong>d</strong> – </p></li>
<li><p><strong>x</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.image2array">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">image2array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#image2array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.image2array" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the information contained in a 2d array into an n*n 1d array</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> (<em>array of size</em><em> (</em><em>n</em><em>,</em><em>n</em><em>)</em>) – image values</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>1d array</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>AttributeError, KeyError</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.make_grid">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">make_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numPix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deltapix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subgrid_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">left_lower</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#make_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.make_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>creates pixel grid (in 1d arrays of x- and y- positions)
default coordinate frame is such that (0,0) is in the center of the coordinate grid</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numPix</strong> – number of pixels per axis
Give an integers for a square grid, or a 2-length sequence
(first, second axis length) for a non-square grid.</p></li>
<li><p><strong>deltapix</strong> – pixel size</p></li>
<li><p><strong>subgrid_res</strong> – sub-pixel resolution (default=1)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>x, y position information in two 1d arrays</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.make_grid_transformed">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">make_grid_transformed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numPix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Mpix2Angle</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#make_grid_transformed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.make_grid_transformed" title="Permalink to this definition">¶</a></dt>
<dd><p>returns grid with linear transformation (deltaPix and rotation)
:param numPix: number of Pixels
:param Mpix2Angle: 2-by-2 matrix to mat a pixel to a coordinate
:return: coordinate grid</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.make_grid_with_coordtransform">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">make_grid_with_coordtransform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numPix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deltapix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subgrid_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_ra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_dec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">left_lower</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#make_grid_with_coordtransform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.make_grid_with_coordtransform" title="Permalink to this definition">¶</a></dt>
<dd><p>same as make_grid routine, but returns the transformation matrix and shift between coordinates and pixel</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numPix</strong> – number of pixels per axis</p></li>
<li><p><strong>deltapix</strong> – pixel scale per axis</p></li>
<li><p><strong>subgrid_res</strong> – super-sampling resolution relative to the stated pixel size</p></li>
<li><p><strong>center_ra</strong> – center of the grid</p></li>
<li><p><strong>center_dec</strong> – center of the grid</p></li>
<li><p><strong>left_lower</strong> – sets the zero point at the lower left corner of the pixels</p></li>
<li><p><strong>inverse</strong> – bool, if true sets East as left, otherwise East is righrt</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ra_grid, dec_grid, ra_at_xy_0, dec_at_xy_0, x_at_radec_0, y_at_radec_0, Mpix2coord, Mcoord2pix</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.make_subgrid">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">make_subgrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra_coord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_coord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subgrid_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#make_subgrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.make_subgrid" title="Permalink to this definition">¶</a></dt>
<dd><p>return a grid with subgrid resolution
:param ra_coord:
:param dec_coord:
:param subgrid_res:
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.map_coord2pix">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">map_coord2pix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">M</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#map_coord2pix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.map_coord2pix" title="Permalink to this definition">¶</a></dt>
<dd><p>this routines performs a linear transformation between two coordinate systems. Mainly used to transform angular
into pixel coordinates in an image
:param ra: ra coordinates
:param dec: dec coordinates
:param x_0: pixel value in x-axis of ra,dec = 0,0
:param y_0: pixel value in y-axis of ra,dec = 0,0
:param M: 2x2 matrix to transform angular to pixel coordinates
:return: transformed coordinate systems of input ra and dec</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.merge_dicts">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">merge_dicts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">dict_args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#merge_dicts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.merge_dicts" title="Permalink to this definition">¶</a></dt>
<dd><p>Given any number of dicts, shallow copy and merge into a new dict,
precedence goes to key value pairs in latter dicts.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.min_square_dist">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">min_square_dist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#min_square_dist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.min_square_dist" title="Permalink to this definition">¶</a></dt>
<dd><p>return minimum of quadratic distance of pairs (x1, y1) to pairs (x2, y2)
:param x_1:
:param y_1:
:param x_2:
:param y_2:
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.neighborSelect">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">neighborSelect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#neighborSelect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.neighborSelect" title="Permalink to this definition">¶</a></dt>
<dd><p>#TODO replace by from scipy.signal import argrelextrema for speed up
&gt;&gt;&gt; from scipy.signal import argrelextrema
&gt;&gt;&gt; x = np.array([2, 1, 2, 3, 2, 0, 1, 0])
&gt;&gt;&gt; argrelextrema(x, np.greater)
(array([3, 6]),)
&gt;&gt;&gt; y = np.array([[1, 2, 1, 2],
…               [2, 2, 0, 0],
…               [5, 3, 4, 4]])
…
&gt;&gt;&gt; argrelextrema(y, np.less, axis=1)
(array([0, 2]), array([2, 1]))</p>
<p>finds (local) minima in a 2d grid</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>a</strong> (<em>numpy array with length numPix**2 in float</em>) – 1d array of displacements from the source positions</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array of indices of local minima, values of those minima</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>AttributeError, KeyError</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.points_on_circle">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">points_on_circle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connect_ends</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#points_on_circle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.points_on_circle" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a set of uniform points around a circle
:param radius: radius of the circle
:param num_points: number of points on the circle
:param connect_ends: boolean, if True, start and end point are the same
:return: x-coords, y-coords of points on the circle</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.rotate">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">rotate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xcoords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ycoords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#rotate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.rotate" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xcoords</strong> – x points</p></li>
<li><p><strong>ycoords</strong> – y points</p></li>
<li><p><strong>angle</strong> – angle in radians</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>x points and y points rotated ccw by angle theta</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.selectBest">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">selectBest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">criteria</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numSelect</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">highest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#selectBest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.selectBest" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> – numpy array to be selected from</p></li>
<li><p><strong>criteria</strong> – criteria of selection</p></li>
<li><p><strong>highest</strong> – bool, if false the lowest will be selected</p></li>
<li><p><strong>numSelect</strong> – number of elements to be selected</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.select_best">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">select_best</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">criteria</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_select</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">highest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#select_best"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.select_best" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> – numpy array to be selected from</p></li>
<li><p><strong>criteria</strong> – criteria of selection</p></li>
<li><p><strong>highest</strong> – bool, if false the lowest will be selected</p></li>
<li><p><strong>num_select</strong> – number of elements to be selected</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.sigma2fwhm">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">sigma2fwhm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#sigma2fwhm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.sigma2fwhm" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sigma</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Util.util.sort_image_index">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Util.util.</span></span><span class="sig-name descname"><span class="pre">sort_image_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ximg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yimg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xref</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yref</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Util/util.html#sort_image_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Util.util.sort_image_index" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ximg</strong> – x coordinates to sort</p></li>
<li><p><strong>yimg</strong> – y coordinates to sort</p></li>
<li><p><strong>xref</strong> – reference x coordinate</p></li>
<li><p><strong>yref</strong> – reference y coordinate</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>indexes such that ximg[indexes],yimg[indexes] matches xref,yref</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-lenstronomy.Util">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-lenstronomy.Util" title="Permalink to this headline">¶</a></h2>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">lenstronomy.Util package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Util.analysis_util">lenstronomy.Util.analysis_util module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Util.class_creator">lenstronomy.Util.class_creator module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Util.constants">lenstronomy.Util.constants module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Util.correlation">lenstronomy.Util.correlation module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Util.data_util">lenstronomy.Util.data_util module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Util.derivative_util">lenstronomy.Util.derivative_util module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Util.image_util">lenstronomy.Util.image_util module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Util.kernel_util">lenstronomy.Util.kernel_util module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Util.mask_util">lenstronomy.Util.mask_util module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Util.multi_gauss_expansion">lenstronomy.Util.multi_gauss_expansion module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Util.numba_util">lenstronomy.Util.numba_util module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Util.param_util">lenstronomy.Util.param_util module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Util.prob_density">lenstronomy.Util.prob_density module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Util.sampling_util">lenstronomy.Util.sampling_util module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Util.simulation_util">lenstronomy.Util.simulation_util module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Util.util">lenstronomy.Util.util module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Util">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="lenstronomy.SimulationAPI.ObservationConfig.html"
                        title="previous chapter">lenstronomy.SimulationAPI.ObservationConfig package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="lenstronomy.Workflow.html"
                        title="next chapter">lenstronomy.Workflow package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/lenstronomy.Util.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="lenstronomy.Workflow.html" title="lenstronomy.Workflow package"
             >next</a> |</li>
        <li class="right" >
          <a href="lenstronomy.SimulationAPI.ObservationConfig.html" title="lenstronomy.SimulationAPI.ObservationConfig package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">lenstronomy 1.10.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="lenstronomy.html" >lenstronomy package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">lenstronomy.Util package</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Simon Birrer and contributors.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.3.1.
    </div>
  </body>
</html>