
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>lenstronomy.LensModel package &#8212; lenstronomy 1.8.2 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="lenstronomy.LensModel.LightConeSim package" href="lenstronomy.LensModel.LightConeSim.html" />
    <link rel="prev" title="lenstronomy.ImSim.Numerics package" href="lenstronomy.ImSim.Numerics.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="lenstronomy.LensModel.LightConeSim.html" title="lenstronomy.LensModel.LightConeSim package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="lenstronomy.ImSim.Numerics.html" title="lenstronomy.ImSim.Numerics package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">lenstronomy 1.8.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="lenstronomy.html" accesskey="U">lenstronomy package</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="lenstronomy-lensmodel-package">
<h1>lenstronomy.LensModel package<a class="headerlink" href="#lenstronomy-lensmodel-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="lenstronomy.LensModel.LightConeSim.html">lenstronomy.LensModel.LightConeSim package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.LightConeSim.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.LightConeSim.html#module-lenstronomy.LensModel.LightConeSim.light_cone">lenstronomy.LensModel.LightConeSim.light_cone module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.LightConeSim.html#module-lenstronomy.LensModel.LightConeSim">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html">lenstronomy.LensModel.Profiles package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.arc_perturbations">lenstronomy.LensModel.Profiles.arc_perturbations module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.base_profile">lenstronomy.LensModel.Profiles.base_profile module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.chameleon">lenstronomy.LensModel.Profiles.chameleon module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.cnfw">lenstronomy.LensModel.Profiles.cnfw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.cnfw_ellipse">lenstronomy.LensModel.Profiles.cnfw_ellipse module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.const_mag">lenstronomy.LensModel.Profiles.const_mag module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.constant_shift">lenstronomy.LensModel.Profiles.constant_shift module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.convergence">lenstronomy.LensModel.Profiles.convergence module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.coreBurkert">lenstronomy.LensModel.Profiles.coreBurkert module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.cored_density">lenstronomy.LensModel.Profiles.cored_density module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.cored_density_2">lenstronomy.LensModel.Profiles.cored_density_2 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.cored_density_exp">lenstronomy.LensModel.Profiles.cored_density_exp module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.cored_density_mst">lenstronomy.LensModel.Profiles.cored_density_mst module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.curved_arc_const">lenstronomy.LensModel.Profiles.curved_arc_const module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.curved_arc_sis_mst">lenstronomy.LensModel.Profiles.curved_arc_sis_mst module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.curved_arc_spp">lenstronomy.LensModel.Profiles.curved_arc_spp module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.curved_arc_spt">lenstronomy.LensModel.Profiles.curved_arc_spt module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.curved_arc_tan_diff">lenstronomy.LensModel.Profiles.curved_arc_tan_diff module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.dipole">lenstronomy.LensModel.Profiles.dipole module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.elliptical_density_slice">lenstronomy.LensModel.Profiles.elliptical_density_slice module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.epl">lenstronomy.LensModel.Profiles.epl module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.epl_numba">lenstronomy.LensModel.Profiles.epl_numba module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.flexion">lenstronomy.LensModel.Profiles.flexion module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.flexionfg">lenstronomy.LensModel.Profiles.flexionfg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.gauss_decomposition">lenstronomy.LensModel.Profiles.gauss_decomposition module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.gaussian_ellipse_kappa">lenstronomy.LensModel.Profiles.gaussian_ellipse_kappa module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.gaussian_ellipse_potential">lenstronomy.LensModel.Profiles.gaussian_ellipse_potential module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.gaussian_kappa">lenstronomy.LensModel.Profiles.gaussian_kappa module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.gaussian_potential">lenstronomy.LensModel.Profiles.gaussian_potential module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.hernquist">lenstronomy.LensModel.Profiles.hernquist module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.hernquist_ellipse">lenstronomy.LensModel.Profiles.hernquist_ellipse module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.hessian">lenstronomy.LensModel.Profiles.hessian module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.interpol">lenstronomy.LensModel.Profiles.interpol module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.multi_gaussian_kappa">lenstronomy.LensModel.Profiles.multi_gaussian_kappa module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.multipole">lenstronomy.LensModel.Profiles.multipole module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.nfw">lenstronomy.LensModel.Profiles.nfw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.nfw_ellipse">lenstronomy.LensModel.Profiles.nfw_ellipse module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.nfw_mass_concentration">lenstronomy.LensModel.Profiles.nfw_mass_concentration module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.nfw_vir_trunc">lenstronomy.LensModel.Profiles.nfw_vir_trunc module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.nie">lenstronomy.LensModel.Profiles.nie module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.nie_potential">lenstronomy.LensModel.Profiles.nie_potential module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.numerical_deflections">lenstronomy.LensModel.Profiles.numerical_deflections module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.p_jaffe">lenstronomy.LensModel.Profiles.p_jaffe module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.p_jaffe_ellipse">lenstronomy.LensModel.Profiles.p_jaffe_ellipse module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.pemd">lenstronomy.LensModel.Profiles.pemd module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.point_mass">lenstronomy.LensModel.Profiles.point_mass module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.sersic">lenstronomy.LensModel.Profiles.sersic module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.sersic_ellipse_kappa">lenstronomy.LensModel.Profiles.sersic_ellipse_kappa module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.sersic_ellipse_potential">lenstronomy.LensModel.Profiles.sersic_ellipse_potential module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.sersic_utils">lenstronomy.LensModel.Profiles.sersic_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.shapelet_pot_cartesian">lenstronomy.LensModel.Profiles.shapelet_pot_cartesian module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.shapelet_pot_polar">lenstronomy.LensModel.Profiles.shapelet_pot_polar module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.shear">lenstronomy.LensModel.Profiles.shear module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.sie">lenstronomy.LensModel.Profiles.sie module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.sis">lenstronomy.LensModel.Profiles.sis module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.sis_truncate">lenstronomy.LensModel.Profiles.sis_truncate module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.spemd">lenstronomy.LensModel.Profiles.spemd module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.spep">lenstronomy.LensModel.Profiles.spep module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.splcore">lenstronomy.LensModel.Profiles.splcore module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.spp">lenstronomy.LensModel.Profiles.spp module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.tnfw">lenstronomy.LensModel.Profiles.tnfw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles.uldm">lenstronomy.LensModel.Profiles.uldm module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Profiles.html#module-lenstronomy.LensModel.Profiles">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lenstronomy.LensModel.QuadOptimizer.html">lenstronomy.LensModel.QuadOptimizer package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.QuadOptimizer.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.QuadOptimizer.html#module-lenstronomy.LensModel.QuadOptimizer.multi_plane_fast">lenstronomy.LensModel.QuadOptimizer.multi_plane_fast module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.QuadOptimizer.html#module-lenstronomy.LensModel.QuadOptimizer.optimizer">lenstronomy.LensModel.QuadOptimizer.optimizer module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.QuadOptimizer.html#module-lenstronomy.LensModel.QuadOptimizer.param_manager">lenstronomy.LensModel.QuadOptimizer.param_manager module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.QuadOptimizer.html#module-lenstronomy.LensModel.QuadOptimizer">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lenstronomy.LensModel.Solver.html">lenstronomy.LensModel.Solver package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Solver.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Solver.html#module-lenstronomy.LensModel.Solver.lens_equation_solver">lenstronomy.LensModel.Solver.lens_equation_solver module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Solver.html#module-lenstronomy.LensModel.Solver.solver">lenstronomy.LensModel.Solver.solver module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Solver.html#module-lenstronomy.LensModel.Solver.solver2point">lenstronomy.LensModel.Solver.solver2point module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Solver.html#module-lenstronomy.LensModel.Solver.solver4point">lenstronomy.LensModel.Solver.solver4point module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lenstronomy.LensModel.Solver.html#module-lenstronomy.LensModel.Solver">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-lenstronomy.LensModel.convergence_integrals">
<span id="lenstronomy-lensmodel-convergence-integrals-module"></span><h2>lenstronomy.LensModel.convergence_integrals module<a class="headerlink" href="#module-lenstronomy.LensModel.convergence_integrals" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="lenstronomy.LensModel.convergence_integrals.potential_from_kappa_grid">
<code class="descclassname">lenstronomy.LensModel.convergence_integrals.</code><code class="descname">potential_from_kappa_grid</code><span class="sig-paren">(</span><em>kappa</em>, <em>grid_spacing</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/convergence_integrals.html#potential_from_kappa_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.convergence_integrals.potential_from_kappa_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>lensing potential on the convergence grid
the computation is performed as a convolution of the Green’s function with the convergence map using FFT</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>kappa</strong> – 2d grid of convergence values</li>
<li><strong>grid_spacing</strong> – pixel size of grid</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">lensing potential in a 2d grid at positions x_grid, y_grid</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lenstronomy.LensModel.convergence_integrals.potential_from_kappa_grid_adaptive">
<code class="descclassname">lenstronomy.LensModel.convergence_integrals.</code><code class="descname">potential_from_kappa_grid_adaptive</code><span class="sig-paren">(</span><em>kappa_high_res</em>, <em>grid_spacing</em>, <em>low_res_factor</em>, <em>high_res_kernel_size</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/convergence_integrals.html#potential_from_kappa_grid_adaptive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.convergence_integrals.potential_from_kappa_grid_adaptive" title="Permalink to this definition">¶</a></dt>
<dd><p>lensing potential on the convergence grid
the computation is performed as a convolution of the Green’s function with the convergence map using FFT</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>kappa_high_res</strong> – 2d grid of convergence values</li>
<li><strong>grid_spacing</strong> – pixel size of grid</li>
<li><strong>low_res_factor</strong> – lower resolution factor of larger scale kernel.</li>
<li><strong>high_res_kernel_size</strong> – int, size of high resolution kernel in units of degraded pixels</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">lensing potential in a 2d grid at positions x_grid, y_grid</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lenstronomy.LensModel.convergence_integrals.deflection_from_kappa_grid">
<code class="descclassname">lenstronomy.LensModel.convergence_integrals.</code><code class="descname">deflection_from_kappa_grid</code><span class="sig-paren">(</span><em>kappa</em>, <em>grid_spacing</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/convergence_integrals.html#deflection_from_kappa_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.convergence_integrals.deflection_from_kappa_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>deflection angles on the convergence grid
the computation is performed as a convolution of the Green’s function with the convergence map using FFT</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>kappa</strong> – convergence values for each pixel (2-d array)</li>
<li><strong>grid_spacing</strong> – pixel size of grid</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">numerical deflection angles in x- and y- direction</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lenstronomy.LensModel.convergence_integrals.deflection_from_kappa_grid_adaptive">
<code class="descclassname">lenstronomy.LensModel.convergence_integrals.</code><code class="descname">deflection_from_kappa_grid_adaptive</code><span class="sig-paren">(</span><em>kappa_high_res</em>, <em>grid_spacing</em>, <em>low_res_factor</em>, <em>high_res_kernel_size</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/convergence_integrals.html#deflection_from_kappa_grid_adaptive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.convergence_integrals.deflection_from_kappa_grid_adaptive" title="Permalink to this definition">¶</a></dt>
<dd><p>deflection angles on the convergence grid with adaptive FFT
the computation is performed as a convolution of the Green’s function with the convergence map using FFT
The grid is returned in the lower resolution grid</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>kappa_high_res</strong> – convergence values for each pixel (2-d array)</li>
<li><strong>grid_spacing</strong> – pixel size of high resolution grid</li>
<li><strong>low_res_factor</strong> – lower resolution factor of larger scale kernel.</li>
<li><strong>high_res_kernel_size</strong> – int, size of high resolution kernel in units of degraded pixels</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">numerical deflection angles in x- and y- direction</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lenstronomy.LensModel.convergence_integrals.potential_kernel">
<code class="descclassname">lenstronomy.LensModel.convergence_integrals.</code><code class="descname">potential_kernel</code><span class="sig-paren">(</span><em>num_pix</em>, <em>delta_pix</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/convergence_integrals.html#potential_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.convergence_integrals.potential_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>numerical gridded integration kernel for convergence to lensing kernel with given pixel size</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_pix</strong> – integer; number of pixels of kernel per axis</li>
<li><strong>delta_pix</strong> – pixel size (per dimension in units of angle)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">kernel for lensing potential</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lenstronomy.LensModel.convergence_integrals.deflection_kernel">
<code class="descclassname">lenstronomy.LensModel.convergence_integrals.</code><code class="descname">deflection_kernel</code><span class="sig-paren">(</span><em>num_pix</em>, <em>delta_pix</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/convergence_integrals.html#deflection_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.convergence_integrals.deflection_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>numerical gridded integration kernel for convergence to deflection angle with given pixel size</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_pix</strong> – integer; number of pixels of kernel per axis, should be odd number to have a defined center</li>
<li><strong>delta_pix</strong> – pixel size (per dimension in units of angle)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">kernel for x-direction and kernel of y-direction deflection angles</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-lenstronomy.LensModel.lens_model">
<span id="lenstronomy-lensmodel-lens-model-module"></span><h2>lenstronomy.LensModel.lens_model module<a class="headerlink" href="#module-lenstronomy.LensModel.lens_model" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="lenstronomy.LensModel.lens_model.LensModel">
<em class="property">class </em><code class="descclassname">lenstronomy.LensModel.lens_model.</code><code class="descname">LensModel</code><span class="sig-paren">(</span><em>lens_model_list</em>, <em>z_lens=None</em>, <em>z_source=None</em>, <em>lens_redshift_list=None</em>, <em>cosmo=None</em>, <em>multi_plane=False</em>, <em>numerical_alpha_class=None</em>, <em>observed_convention_index=None</em>, <em>z_source_convention=None</em>, <em>cosmo_interp=False</em>, <em>z_interp_stop=None</em>, <em>num_z_interp=100</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>class to handle an arbitrary list of lens models. This is the main lenstronomy LensModel API for all other modules.</p>
<dl class="method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.alpha">
<code class="descname">alpha</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>kwargs</em>, <em>k=None</em>, <em>diff=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.alpha"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.alpha" title="Permalink to this definition">¶</a></dt>
<dd><p>deflection angles</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>numpy array</em>) – x-position (preferentially arcsec)</li>
<li><strong>y</strong> (<em>numpy array</em>) – y-position (preferentially arcsec)</li>
<li><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</li>
<li><strong>k</strong> – only evaluate the k-th lens model</li>
<li><strong>diff</strong> – None or float. If set, computes the deflection as a finite numerical differential of the lensing
potential. This differential is only applicable in the single lensing plane where the form of the lensing
potential is analytically known</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">deflection angles in units of arcsec</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.arrival_time">
<code class="descname">arrival_time</code><span class="sig-paren">(</span><em>x_image</em>, <em>y_image</em>, <em>kwargs_lens</em>, <em>kappa_ext=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.arrival_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.arrival_time" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x_image</strong> – image position</li>
<li><strong>y_image</strong> – image position</li>
<li><strong>kwargs_lens</strong> – lens model parameter keyword argument list</li>
<li><strong>kappa_ext</strong> – external convergence contribution not accounted in the lens model that leads to the same
observables in position and relative fluxes but rescales the time delays</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">arrival time of image positions in units of days</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.curl">
<code class="descname">curl</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>kwargs</em>, <em>k=None</em>, <em>diff=None</em>, <em>diff_method='square'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.curl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.curl" title="Permalink to this definition">¶</a></dt>
<dd><p>curl computation F_xy - F_yx</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>numpy array</em>) – x-position (preferentially arcsec)</li>
<li><strong>y</strong> (<em>numpy array</em>) – y-position (preferentially arcsec)</li>
<li><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</li>
<li><strong>k</strong> – only evaluate the k-th lens model</li>
<li><strong>diff</strong> – float, scale over which the finite numerical differential is computed. If None, then using the
exact (if available) differentials.</li>
<li><strong>diff_method</strong> – string, ‘square’ or ‘cross’, indicating whether finite differentials are computed from a
cross or a square of points around (x, y)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">curl at position (x, y)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.fermat_potential">
<code class="descname">fermat_potential</code><span class="sig-paren">(</span><em>x_image</em>, <em>y_image</em>, <em>kwargs_lens</em>, <em>x_source=None</em>, <em>y_source=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.fermat_potential"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.fermat_potential" title="Permalink to this definition">¶</a></dt>
<dd><p>fermat potential (negative sign means earlier arrival time)
for Multi-plane lensing, it computes the effective Fermat potential (derived from the arrival time and
subtracted off the time-delay distance for the given cosmology). The units are given in arcsecond square.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x_image</strong> – image position</li>
<li><strong>y_image</strong> – image position</li>
<li><strong>x_source</strong> – source position</li>
<li><strong>y_source</strong> – source position</li>
<li><strong>kwargs_lens</strong> – list of keyword arguments of lens model parameters matching the lens model classes</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">fermat potential in arcsec**2 without geometry term (second part of Eqn 1 in Suyu et al. 2013) as a list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.flexion">
<code class="descname">flexion</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>kwargs</em>, <em>k=None</em>, <em>diff=1e-06</em>, <em>hessian_diff=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.flexion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.flexion" title="Permalink to this definition">¶</a></dt>
<dd><p>third derivatives (flexion)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>numpy array</em>) – x-position (preferentially arcsec)</li>
<li><strong>y</strong> (<em>numpy array</em>) – y-position (preferentially arcsec)</li>
<li><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</li>
<li><strong>k</strong> – int or None, if set, only evaluates the differential from one model component</li>
<li><strong>diff</strong> – numerical differential length of Flexion</li>
<li><strong>hessian_diff</strong> – boolean, if true also computes the numerical differential length of Hessian (optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">f_xxx, f_xxy, f_xyy, f_yyy</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.gamma">
<code class="descname">gamma</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>kwargs</em>, <em>k=None</em>, <em>diff=None</em>, <em>diff_method='square'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.gamma"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.gamma" title="Permalink to this definition">¶</a></dt>
<dd><p>shear computation
g1 = 1/2(d^2phi/dx^2 - d^2phi/dy^2)
g2 = d^2phi/dxdy</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>numpy array</em>) – x-position (preferentially arcsec)</li>
<li><strong>y</strong> (<em>numpy array</em>) – y-position (preferentially arcsec)</li>
<li><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</li>
<li><strong>k</strong> – only evaluate the k-th lens model</li>
<li><strong>diff</strong> – float, scale over which the finite numerical differential is computed. If None, then using the
exact (if available) differentials.</li>
<li><strong>diff_method</strong> – string, ‘square’ or ‘cross’, indicating whether finite differentials are computed from a
cross or a square of points around (x, y)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">gamma1, gamma2</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.hessian">
<code class="descname">hessian</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>kwargs</em>, <em>k=None</em>, <em>diff=None</em>, <em>diff_method='square'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.hessian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.hessian" title="Permalink to this definition">¶</a></dt>
<dd><p>hessian matrix</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>numpy array</em>) – x-position (preferentially arcsec)</li>
<li><strong>y</strong> (<em>numpy array</em>) – y-position (preferentially arcsec)</li>
<li><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</li>
<li><strong>k</strong> – only evaluate the k-th lens model</li>
<li><strong>diff</strong> – float, scale over which the finite numerical differential is computed. If None, then using the
exact (if available) differentials.</li>
<li><strong>diff_method</strong> – string, ‘square’ or ‘cross’, indicating whether finite differentials are computed from a
cross or a square of points around (x, y)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">f_xx, f_xy, f_yx, f_yy components</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.kappa">
<code class="descname">kappa</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>kwargs</em>, <em>k=None</em>, <em>diff=None</em>, <em>diff_method='square'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.kappa"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.kappa" title="Permalink to this definition">¶</a></dt>
<dd><p>lensing convergence k = 1/2 laplacian(phi)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>numpy array</em>) – x-position (preferentially arcsec)</li>
<li><strong>y</strong> (<em>numpy array</em>) – y-position (preferentially arcsec)</li>
<li><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</li>
<li><strong>k</strong> – only evaluate the k-th lens model</li>
<li><strong>diff</strong> – float, scale over which the finite numerical differential is computed. If None, then using the
exact (if available) differentials.</li>
<li><strong>diff_method</strong> – string, ‘square’ or ‘cross’, indicating whether finite differentials are computed from a
cross or a square of points around (x, y)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">lensing convergence</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.magnification">
<code class="descname">magnification</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>kwargs</em>, <em>k=None</em>, <em>diff=None</em>, <em>diff_method='square'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.magnification"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.magnification" title="Permalink to this definition">¶</a></dt>
<dd><p>mag = 1/det(A)
A = 1 - d^2phi/d_ij</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>numpy array</em>) – x-position (preferentially arcsec)</li>
<li><strong>y</strong> (<em>numpy array</em>) – y-position (preferentially arcsec)</li>
<li><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</li>
<li><strong>k</strong> – only evaluate the k-th lens model</li>
<li><strong>diff</strong> – float, scale over which the finite numerical differential is computed. If None, then using the
exact (if available) differentials.</li>
<li><strong>diff_method</strong> – string, ‘square’ or ‘cross’, indicating whether finite differentials are computed from a
cross or a square of points around (x, y)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">magnification</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.potential">
<code class="descname">potential</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>kwargs</em>, <em>k=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.potential"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.potential" title="Permalink to this definition">¶</a></dt>
<dd><p>lensing potential</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>numpy array</em>) – x-position (preferentially arcsec)</li>
<li><strong>y</strong> (<em>numpy array</em>) – y-position (preferentially arcsec)</li>
<li><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</li>
<li><strong>k</strong> – only evaluate the k-th lens model</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">lensing potential in units of arcsec^2</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.ray_shooting">
<code class="descname">ray_shooting</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>kwargs</em>, <em>k=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.ray_shooting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.ray_shooting" title="Permalink to this definition">¶</a></dt>
<dd><p>maps image to source position (inverse deflection)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>numpy array</em>) – x-position (preferentially arcsec)</li>
<li><strong>y</strong> (<em>numpy array</em>) – y-position (preferentially arcsec)</li>
<li><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</li>
<li><strong>k</strong> – only evaluate the k-th lens model</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">source plane positions corresponding to (x, y) in the image plane</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.set_dynamic">
<code class="descname">set_dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.set_dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.set_dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>deletes cache for static setting and makes sure the observed convention in the position of lensing profiles in
the multi-plane setting is enabled. Dynamic is the default setting of this class enabling an accurate computation
of lensing quantities with different parameters in the lensing profiles.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model.LensModel.set_static">
<code class="descname">set_static</code><span class="sig-paren">(</span><em>kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model.html#LensModel.set_static"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model.LensModel.set_static" title="Permalink to this definition">¶</a></dt>
<dd><p>set this instance to a static lens model. This can improve the speed in evaluating lensing quantities at
different positions but must not be used with different lens model parameters!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – lens model keyword argument list</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">kwargs_updated (in case of image position convention in multiplane lensing this is changed)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lenstronomy.LensModel.lens_model_extensions">
<span id="lenstronomy-lensmodel-lens-model-extensions-module"></span><h2>lenstronomy.LensModel.lens_model_extensions module<a class="headerlink" href="#module-lenstronomy.LensModel.lens_model_extensions" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions">
<em class="property">class </em><code class="descclassname">lenstronomy.LensModel.lens_model_extensions.</code><code class="descname">LensModelExtensions</code><span class="sig-paren">(</span><em>lensModel</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>class with extension routines not part of the LensModel core routines</p>
<dl class="method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.critical_curve_caustics">
<code class="descname">critical_curve_caustics</code><span class="sig-paren">(</span><em>kwargs_lens</em>, <em>compute_window=5</em>, <em>grid_scale=0.01</em>, <em>center_x=0</em>, <em>center_y=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.critical_curve_caustics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.critical_curve_caustics" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>kwargs_lens</strong> – lens model kwargs</li>
<li><strong>compute_window</strong> – window size in arcsec where the critical curve is computed</li>
<li><strong>grid_scale</strong> – numerical grid spacing of the computation of the critical curves</li>
<li><strong>center_x</strong> – float, center of the window to compute critical curves and caustics</li>
<li><strong>center_y</strong> – float, center of the window to compute critical curves and caustics</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">lists of ra and dec arrays corresponding to different disconnected critical curves and their caustic counterparts</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.critical_curve_tiling">
<code class="descname">critical_curve_tiling</code><span class="sig-paren">(</span><em>kwargs_lens</em>, <em>compute_window=5</em>, <em>start_scale=0.5</em>, <em>max_order=10</em>, <em>center_x=0</em>, <em>center_y=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.critical_curve_tiling"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.critical_curve_tiling" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>kwargs_lens</strong> – lens model keyword argument list</li>
<li><strong>compute_window</strong> – total window in the image plane where to search for critical curves</li>
<li><strong>start_scale</strong> – float, angular scale on which to start the tiling from (if there are two distinct curves in
a region, it might only find one.</li>
<li><strong>max_order</strong> – int, maximum order in the tiling to compute critical curve triangles</li>
<li><strong>center_x</strong> – float, center of the window to compute critical curves and caustics</li>
<li><strong>center_y</strong> – float, center of the window to compute critical curves and caustics</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list of positions representing coordinates of the critical curve (in RA and DEC)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.curved_arc_estimate">
<code class="descname">curved_arc_estimate</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>kwargs_lens</em>, <em>smoothing=None</em>, <em>smoothing_3rd=0.001</em>, <em>tan_diff=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.curved_arc_estimate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.curved_arc_estimate" title="Permalink to this definition">¶</a></dt>
<dd><p>performs the estimation of the curved arc description at a particular position of an arbitrary lens profile</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> – float, x-position where the estimate is provided</li>
<li><strong>y</strong> – float, y-position where the estimate is provided</li>
<li><strong>kwargs_lens</strong> – lens model keyword arguments</li>
<li><strong>smoothing</strong> – (optional) finite differential of second derivative (radial and tangential stretches)</li>
<li><strong>smoothing_3rd</strong> – differential scale for third derivative to estimate the tangential curvature</li>
<li><strong>tan_diff</strong> – boolean, if True, also returns the relative tangential stretch differential in tangential direction</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">keyword argument list corresponding to a CURVED_ARC profile at (x, y) given the initial lens model</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.curved_arc_finite_area">
<code class="descname">curved_arc_finite_area</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>kwargs_lens</em>, <em>dr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.curved_arc_finite_area"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.curved_arc_finite_area" title="Permalink to this definition">¶</a></dt>
<dd><p>computes an estimated curved arc over a finite extent mimicking the appearance of a finite source with radius dr</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> – x-position (float)</li>
<li><strong>y</strong> – y-position (float)</li>
<li><strong>kwargs_lens</strong> – lens model keyword argument list</li>
<li><strong>dr</strong> – radius of finite source</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">keyword arguments of curved arc</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.hessian_eigenvectors">
<code class="descname">hessian_eigenvectors</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>kwargs_lens</em>, <em>diff=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.hessian_eigenvectors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.hessian_eigenvectors" title="Permalink to this definition">¶</a></dt>
<dd><p>computes magnification eigenvectors at position (x, y)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> – x-position</li>
<li><strong>y</strong> – y-position</li>
<li><strong>kwargs_lens</strong> – lens model keyword arguments</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">radial stretch, tangential stretch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.magnification_finite">
<code class="descname">magnification_finite</code><span class="sig-paren">(</span><em>x_pos</em>, <em>y_pos</em>, <em>kwargs_lens</em>, <em>source_sigma=0.003</em>, <em>window_size=0.1</em>, <em>grid_number=100</em>, <em>polar_grid=False</em>, <em>aspect_ratio=0.5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.magnification_finite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.magnification_finite" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the magnification of an extended source with Gaussian light profile
:param x_pos: x-axis positons of point sources
:param y_pos: y-axis position of point sources
:param kwargs_lens: lens model kwargs
:param source_sigma: Gaussian sigma in arc sec in source
:param window_size: size of window to compute the finite flux
:param grid_number: number of grid cells per axis in the window to numerically compute the flux
:return: numerically computed brightness of the sources</p>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.magnification_finite_adaptive">
<code class="descname">magnification_finite_adaptive</code><span class="sig-paren">(</span><em>x_image</em>, <em>y_image</em>, <em>source_x</em>, <em>source_y</em>, <em>kwargs_lens</em>, <em>source_fwhm_parsec</em>, <em>z_source</em>, <em>cosmo=None</em>, <em>grid_resolution=None</em>, <em>grid_radius_arcsec=None</em>, <em>axis_ratio=0.5</em>, <em>tol=0.001</em>, <em>step_size=0.05</em>, <em>use_largest_eigenvalue=True</em>, <em>source_light_model='SINGLE_GAUSSIAN'</em>, <em>dx=None</em>, <em>dy=None</em>, <em>size_scale=None</em>, <em>amp_scale=None</em>, <em>fixed_aperture_size=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.magnification_finite_adaptive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.magnification_finite_adaptive" title="Permalink to this definition">¶</a></dt>
<dd><p>This method computes image magnifications with a finite-size background source assuming a Gaussian or a
double Gaussian source light profile. It can be much faster that magnification_finite for lens models with many
deflectors and a compact source. This is because most pixels in a rectangular window around a lensed
image of a compact source do not map onto the source, and therefore don’t contribute to the integrated flux in
the image plane.</p>
<p>Rather than ray tracing through a rectangular grid, this routine accelerates the computation of image
magnifications with finite-size sources by ray tracing through an elliptical region oriented such that
tracks the surface brightness of the lensed image. The aperture size is initially quite small,
and increases in size until the flux inside of it (and hence the magnification) converges. The orientation of
the elliptical aperture is computed from the magnification tensor evaluated at the image coordinate.</p>
<p>If for whatever reason you prefer a circular aperture to the elliptical approximation using the hessian
eigenvectors, you can just set axis_ratio = 1.</p>
<p>To use the eigenvalues of the hessian matrix to estimate the optimum axis ratio, set axis_ratio = 0.</p>
<p>The default settings for the grid resolution and ray tracing window size work well for sources with fwhm between
0.5 - 100 pc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x_image</strong> – a list or array of x coordinates [units arcsec]</li>
<li><strong>y_image</strong> – a list or array of y coordinates [units arcsec]</li>
<li><strong>kwargs_lens</strong> – keyword arguments for the lens model</li>
<li><strong>source_fwhm_parsec</strong> – the size of the background source [units parsec]</li>
<li><strong>z_source</strong> – the source redshift</li>
<li><strong>cosmo</strong> – (optional) an instance of astropy.cosmology; if not specified, a default cosmology will be used</li>
<li><strong>grid_resolution</strong> – the grid resolution in units arcsec/pixel; if not specified, an appropriate value will
be estimated from the source size</li>
<li><strong>grid_radius_arcsec</strong> – (optional) the size of the ray tracing region in arcsec; if not specified, an appropriate value
will be estimated from the source size</li>
<li><strong>axis_ratio</strong> – the axis ratio of the ellipse used for ray tracing; if axis_ratio = 0, then the eigenvalues
the hessian matrix will be used to estimate an appropriate axis ratio. Be warned: if the image is highly
magnified it will tend to curve out of the resulting ellipse</li>
<li><strong>tol</strong> – tolerance for convergence in the magnification</li>
<li><strong>step_size</strong> – sets the increment for the successively larger ray tracing windows</li>
<li><strong>use_largest_eigenvalue</strong> – bool; if True, then the major axis of the ray tracing ellipse region
will be aligned with the eigenvector corresponding to the largest eigenvalue of the hessian matrix</li>
<li><strong>source_light_model</strong> – the model for backgourn source light; currently implemented are ‘SINGLE_GAUSSIAN’ and
‘DOUBLE_GAUSSIAN’.</li>
<li><strong>dx</strong> – used with source model ‘DOUBLE_GAUSSIAN’, the offset of the second source light profile from the first
[arcsec]</li>
<li><strong>dy</strong> – used with source model ‘DOUBLE_GAUSSIAN’, the offset of the second source light profile from the first
[arcsec]</li>
<li><strong>size_scale</strong> – used with source model ‘DOUBLE_GAUSSIAN’, the size of the second source light profile relative
to the first</li>
<li><strong>amp_scale</strong> – used with source model ‘DOUBLE_GAUSSIAN’, the peak brightness of the second source light profile
relative to the first</li>
<li><strong>fixed_aperture_size</strong> – bool, if True the flux is computed inside a fixed aperture size with radius
grid_radius_arcsec</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">an array of image magnifications</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.radial_tangential_differentials">
<code class="descname">radial_tangential_differentials</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>kwargs_lens</em>, <em>center_x=0</em>, <em>center_y=0</em>, <em>smoothing_3rd=0.001</em>, <em>smoothing_2nd=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.radial_tangential_differentials"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.radial_tangential_differentials" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the differentials in stretches and directions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> – x-position</li>
<li><strong>y</strong> – y-position</li>
<li><strong>kwargs_lens</strong> – lens model keyword arguments</li>
<li><strong>center_x</strong> – x-coord of center towards which the rotation direction is defined</li>
<li><strong>center_y</strong> – x-coord of center towards which the rotation direction is defined</li>
<li><strong>smoothing_3rd</strong> – finite differential length of third order in units of angle</li>
<li><strong>smoothing_2nd</strong> – float or None, finite average differential scale of Hessian</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.radial_tangential_stretch">
<code class="descname">radial_tangential_stretch</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>kwargs_lens</em>, <em>diff=None</em>, <em>ra_0=0</em>, <em>dec_0=0</em>, <em>coordinate_frame_definitions=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.radial_tangential_stretch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.radial_tangential_stretch" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the radial and tangential stretches at a given position</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> – x-position</li>
<li><strong>y</strong> – y-position</li>
<li><strong>kwargs_lens</strong> – lens model keyword arguments</li>
<li><strong>diff</strong> – float or None, finite average differential scale</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">radial stretch, tangential stretch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.tangential_average">
<code class="descname">tangential_average</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>kwargs_lens</em>, <em>dr</em>, <em>smoothing=None</em>, <em>num_average=9</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.tangential_average"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.tangential_average" title="Permalink to this definition">¶</a></dt>
<dd><p>computes average tangential stretch around position (x, y) within dr in radial direction</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> – x-position (float)</li>
<li><strong>y</strong> – y-position (float)</li>
<li><strong>kwargs_lens</strong> – lens model keyword argument list</li>
<li><strong>dr</strong> – averaging scale in radial direction</li>
<li><strong>smoothing</strong> – smoothing scale of derivative</li>
<li><strong>num_average</strong> – integer, number of points averaged over within dr in the radial direction</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.zoom_source">
<code class="descname">zoom_source</code><span class="sig-paren">(</span><em>x_pos</em>, <em>y_pos</em>, <em>kwargs_lens</em>, <em>source_sigma=0.003</em>, <em>window_size=0.1</em>, <em>grid_number=100</em>, <em>shape='GAUSSIAN'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_model_extensions.html#LensModelExtensions.zoom_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_model_extensions.LensModelExtensions.zoom_source" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the surface brightness on an image with a zoomed window</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x_pos</strong> – angular coordinate of center of image</li>
<li><strong>y_pos</strong> – angular coordinate of center of image</li>
<li><strong>kwargs_lens</strong> – lens model parameter list</li>
<li><strong>source_sigma</strong> – source size (in angular units)</li>
<li><strong>window_size</strong> – window size in angular units</li>
<li><strong>grid_number</strong> – number of grid points per axis</li>
<li><strong>shape</strong> – string, shape of source, supports ‘GAUSSIAN’ and ‘TORUS</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">2d numpy array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lenstronomy.LensModel.lens_param">
<span id="lenstronomy-lensmodel-lens-param-module"></span><h2>lenstronomy.LensModel.lens_param module<a class="headerlink" href="#module-lenstronomy.LensModel.lens_param" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="lenstronomy.LensModel.lens_param.LensParam">
<em class="property">class </em><code class="descclassname">lenstronomy.LensModel.lens_param.</code><code class="descname">LensParam</code><span class="sig-paren">(</span><em>lens_model_list</em>, <em>kwargs_fixed</em>, <em>kwargs_lower=None</em>, <em>kwargs_upper=None</em>, <em>num_images=0</em>, <em>solver_type='NONE'</em>, <em>num_shapelet_lens=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_param.html#LensParam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_param.LensParam" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>class to handle the lens model parameter</p>
<dl class="method">
<dt id="lenstronomy.LensModel.lens_param.LensParam.getParams">
<code class="descname">getParams</code><span class="sig-paren">(</span><em>args</em>, <em>i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_param.html#LensParam.getParams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_param.LensParam.getParams" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_param.LensParam.num_param">
<code class="descname">num_param</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_param.html#LensParam.num_param"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_param.LensParam.num_param" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.lens_param.LensParam.setParams">
<code class="descname">setParams</code><span class="sig-paren">(</span><em>kwargs_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/lens_param.html#LensParam.setParams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.lens_param.LensParam.setParams" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lenstronomy.LensModel.multi_plane">
<span id="lenstronomy-lensmodel-multi-plane-module"></span><h2>lenstronomy.LensModel.multi_plane module<a class="headerlink" href="#module-lenstronomy.LensModel.multi_plane" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="lenstronomy.LensModel.multi_plane.MultiPlane">
<em class="property">class </em><code class="descclassname">lenstronomy.LensModel.multi_plane.</code><code class="descname">MultiPlane</code><span class="sig-paren">(</span><em>z_source</em>, <em>lens_model_list</em>, <em>lens_redshift_list</em>, <em>cosmo=None</em>, <em>numerical_alpha_class=None</em>, <em>observed_convention_index=None</em>, <em>ignore_observed_positions=False</em>, <em>z_source_convention=None</em>, <em>cosmo_interp=False</em>, <em>z_interp_stop=None</em>, <em>num_z_interp=100</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/multi_plane.html#MultiPlane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.multi_plane.MultiPlane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Multi-plane lensing class with option to assign positions of a selected set of lens models in the observed plane.</p>
<p>The lens model deflection angles are in units of reduced deflections from the specified redshift of the lens to the
source redshift of the class instance.</p>
<dl class="method">
<dt id="lenstronomy.LensModel.multi_plane.MultiPlane.alpha">
<code class="descname">alpha</code><span class="sig-paren">(</span><em>theta_x</em>, <em>theta_y</em>, <em>kwargs_lens</em>, <em>check_convention=True</em>, <em>k=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/multi_plane.html#MultiPlane.alpha"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.multi_plane.MultiPlane.alpha" title="Permalink to this definition">¶</a></dt>
<dd><p>reduced deflection angle</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>theta_x</strong> – angle in x-direction</li>
<li><strong>theta_y</strong> – angle in y-direction</li>
<li><strong>kwargs_lens</strong> – lens model kwargs</li>
<li><strong>check_convention</strong> – flag to check the image position convention (leave this alone)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">deflection angles in x and y directions</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.multi_plane.MultiPlane.arrival_time">
<code class="descname">arrival_time</code><span class="sig-paren">(</span><em>theta_x</em>, <em>theta_y</em>, <em>kwargs_lens</em>, <em>check_convention=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/multi_plane.html#MultiPlane.arrival_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.multi_plane.MultiPlane.arrival_time" title="Permalink to this definition">¶</a></dt>
<dd><p>light travel time relative to a straight path through the coordinate (0,0)
Negative sign means earlier arrival time</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>theta_x</strong> – angle in x-direction on the image</li>
<li><strong>theta_y</strong> – angle in y-direction on the image</li>
<li><strong>kwargs_lens</strong> – lens model keyword argument list</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">travel time in unit of days</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.multi_plane.MultiPlane.co_moving2angle_source">
<code class="descname">co_moving2angle_source</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/multi_plane.html#MultiPlane.co_moving2angle_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.multi_plane.MultiPlane.co_moving2angle_source" title="Permalink to this definition">¶</a></dt>
<dd><p>special case of the co_moving2angle definition at the source redshift</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> – co-moving distance</li>
<li><strong>y</strong> – co-moving distance</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">angles on the sky at the nominal source plane</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.multi_plane.MultiPlane.geo_shapiro_delay">
<code class="descname">geo_shapiro_delay</code><span class="sig-paren">(</span><em>theta_x</em>, <em>theta_y</em>, <em>kwargs_lens</em>, <em>check_convention=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/multi_plane.html#MultiPlane.geo_shapiro_delay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.multi_plane.MultiPlane.geo_shapiro_delay" title="Permalink to this definition">¶</a></dt>
<dd><p>geometric and Shapiro (gravitational) light travel time relative to a straight path through the coordinate (0,0)
Negative sign means earlier arrival time</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>theta_x</strong> – angle in x-direction on the image</li>
<li><strong>theta_y</strong> – angle in y-direction on the image</li>
<li><strong>kwargs_lens</strong> – lens model keyword argument list</li>
<li><strong>check_convention</strong> – boolean, if True goes through the lens model list and checks whether the positional
conventions are satisfied.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">geometric delay, gravitational delay [days]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.multi_plane.MultiPlane.hessian">
<code class="descname">hessian</code><span class="sig-paren">(</span><em>theta_x</em>, <em>theta_y</em>, <em>kwargs_lens</em>, <em>k=None</em>, <em>diff=1e-08</em>, <em>check_convention=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/multi_plane.html#MultiPlane.hessian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.multi_plane.MultiPlane.hessian" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the hessian components f_xx, f_yy, f_xy from f_x and f_y with numerical differentiation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>theta_x</strong> (<em>numpy array</em>) – x-position (preferentially arcsec)</li>
<li><strong>theta_y</strong> (<em>numpy array</em>) – y-position (preferentially arcsec)</li>
<li><strong>kwargs_lens</strong> – list of keyword arguments of lens model parameters matching the lens model classes</li>
<li><strong>diff</strong> – numerical differential step (float)</li>
<li><strong>check_convention</strong> – boolean, if True goes through the lens model list and checks whether the positional
conventions are satisfied.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">f_xx, f_xy, f_yx, f_yy</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.multi_plane.MultiPlane.observed2flat_convention">
<code class="descname">observed2flat_convention</code><span class="sig-paren">(</span><em>kwargs_lens</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/multi_plane.html#MultiPlane.observed2flat_convention"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.multi_plane.MultiPlane.observed2flat_convention" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs_lens</strong> – keyword argument list of lens model parameters in the observed convention</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">kwargs_lens positions mapped into angular position without lensing along its LOS</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.multi_plane.MultiPlane.ray_shooting">
<code class="descname">ray_shooting</code><span class="sig-paren">(</span><em>theta_x</em>, <em>theta_y</em>, <em>kwargs_lens</em>, <em>check_convention=True</em>, <em>k=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/multi_plane.html#MultiPlane.ray_shooting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.multi_plane.MultiPlane.ray_shooting" title="Permalink to this definition">¶</a></dt>
<dd><p>ray-tracing (backwards light cone) to the default z_source redshift</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>theta_x</strong> – angle in x-direction on the image</li>
<li><strong>theta_y</strong> – angle in y-direction on the image</li>
<li><strong>kwargs_lens</strong> – </li>
<li><strong>check_convention</strong> – flag to check the image position convention (leave this alone)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">angles in the source plane</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.multi_plane.MultiPlane.ray_shooting_partial">
<code class="descname">ray_shooting_partial</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>alpha_x</em>, <em>alpha_y</em>, <em>z_start</em>, <em>z_stop</em>, <em>kwargs_lens</em>, <em>include_z_start=False</em>, <em>check_convention=True</em>, <em>T_ij_start=None</em>, <em>T_ij_end=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/multi_plane.html#MultiPlane.ray_shooting_partial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.multi_plane.MultiPlane.ray_shooting_partial" title="Permalink to this definition">¶</a></dt>
<dd><p>ray-tracing through parts of the coin, starting with (x,y) co-moving distances and angles (alpha_x, alpha_y) at
redshift z_start and then backwards to redshift z_stop</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> – co-moving position [Mpc]</li>
<li><strong>y</strong> – co-moving position [Mpc]</li>
<li><strong>alpha_x</strong> – ray angle at z_start [arcsec]</li>
<li><strong>alpha_y</strong> – ray angle at z_start [arcsec]</li>
<li><strong>z_start</strong> – redshift of start of computation</li>
<li><strong>z_stop</strong> – redshift where output is computed</li>
<li><strong>kwargs_lens</strong> – lens model keyword argument list</li>
<li><strong>include_z_start</strong> – bool, if True, includes the computation of the deflection angle at the same redshift as
the start of the ray-tracing. ATTENTION: deflection angles at the same redshift as z_stop will be computed!
This can lead to duplications in the computation of deflection angles.</li>
<li><strong>check_convention</strong> – flag to check the image position convention (leave this alone)</li>
<li><strong>T_ij_start</strong> – transverse angular distance between the starting redshift to the first lens plane to follow.
If not set, will compute the distance each time this function gets executed.</li>
<li><strong>T_ij_end</strong> – transverse angular distance between the last lens plane being computed and z_end. If not set,
will compute the distance each time this function gets executed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">co-moving position and angles at redshift z_stop</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.multi_plane.MultiPlane.set_dynamic">
<code class="descname">set_dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/multi_plane.html#MultiPlane.set_dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.multi_plane.MultiPlane.set_dynamic" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.multi_plane.MultiPlane.set_static">
<code class="descname">set_static</code><span class="sig-paren">(</span><em>kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/multi_plane.html#MultiPlane.set_static"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.multi_plane.MultiPlane.set_static" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – lens model keyword argument list</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">lens model keyword argument list with positional parameters all in flat sky coordinates</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.multi_plane.MultiPlane.transverse_distance_start_stop">
<code class="descname">transverse_distance_start_stop</code><span class="sig-paren">(</span><em>z_start</em>, <em>z_stop</em>, <em>include_z_start=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/multi_plane.html#MultiPlane.transverse_distance_start_stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.multi_plane.MultiPlane.transverse_distance_start_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the transverse distance (T_ij) that is required by the ray-tracing between the starting redshift and
the first deflector afterwards and the last deflector before the end of the ray-tracing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>z_start</strong> – redshift of the start of the ray-tracing</li>
<li><strong>z_stop</strong> – stop of ray-tracing</li>
<li><strong>include_z_start</strong> – bool, i</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">T_ij_start, T_ij_end</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.multi_plane.MultiPlane.update_source_redshift">
<code class="descname">update_source_redshift</code><span class="sig-paren">(</span><em>z_source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/multi_plane.html#MultiPlane.update_source_redshift"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.multi_plane.MultiPlane.update_source_redshift" title="Permalink to this definition">¶</a></dt>
<dd><p>update instance of this class to compute reduced lensing quantities and time delays to a specific source redshift</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>z_source</strong> – float; source redshift</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">self variables update to new redshift</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="lenstronomy.LensModel.multi_plane.PhysicalLocation">
<em class="property">class </em><code class="descclassname">lenstronomy.LensModel.multi_plane.</code><code class="descname">PhysicalLocation</code><a class="reference internal" href="_modules/lenstronomy/LensModel/multi_plane.html#PhysicalLocation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.multi_plane.PhysicalLocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>center_x and center_y kwargs correspond to angular location of deflectors without lensing along the LOS</p>
</dd></dl>

<dl class="class">
<dt id="lenstronomy.LensModel.multi_plane.LensedLocation">
<em class="property">class </em><code class="descclassname">lenstronomy.LensModel.multi_plane.</code><code class="descname">LensedLocation</code><span class="sig-paren">(</span><em>multiplane_instance</em>, <em>observed_convention_index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/multi_plane.html#LensedLocation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.multi_plane.LensedLocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>center_x and center_y kwargs correspond to observed (lensed) locations of deflectors
given a model for the line of sight structure, compute the angular position of the deflector without lensing
contribution along the LOS</p>
</dd></dl>

</div>
<div class="section" id="module-lenstronomy.LensModel.multi_plane_base">
<span id="lenstronomy-lensmodel-multi-plane-base-module"></span><h2>lenstronomy.LensModel.multi_plane_base module<a class="headerlink" href="#module-lenstronomy.LensModel.multi_plane_base" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="lenstronomy.LensModel.multi_plane_base.MultiPlaneBase">
<em class="property">class </em><code class="descclassname">lenstronomy.LensModel.multi_plane_base.</code><code class="descname">MultiPlaneBase</code><span class="sig-paren">(</span><em>lens_model_list</em>, <em>lens_redshift_list</em>, <em>z_source_convention</em>, <em>cosmo=None</em>, <em>numerical_alpha_class=None</em>, <em>cosmo_interp=False</em>, <em>z_interp_stop=None</em>, <em>num_z_interp=100</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/multi_plane_base.html#MultiPlaneBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.multi_plane_base.MultiPlaneBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lenstronomy.LensModel.profile_list_base.ProfileListBase" title="lenstronomy.LensModel.profile_list_base.ProfileListBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">lenstronomy.LensModel.profile_list_base.ProfileListBase</span></code></a></p>
<p>Multi-plane lensing class</p>
<p>The lens model deflection angles are in units of reduced deflections from the specified redshift of the lens to the
source redshift of the class instance.</p>
<dl class="method">
<dt id="lenstronomy.LensModel.multi_plane_base.MultiPlaneBase.geo_shapiro_delay">
<code class="descname">geo_shapiro_delay</code><span class="sig-paren">(</span><em>theta_x</em>, <em>theta_y</em>, <em>kwargs_lens</em>, <em>z_stop</em>, <em>T_z_stop=None</em>, <em>T_ij_end=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/multi_plane_base.html#MultiPlaneBase.geo_shapiro_delay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.multi_plane_base.MultiPlaneBase.geo_shapiro_delay" title="Permalink to this definition">¶</a></dt>
<dd><p>geometric and Shapiro (gravitational) light travel time relative to a straight path through the coordinate (0,0)
Negative sign means earlier arrival time</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>theta_x</strong> – angle in x-direction on the image</li>
<li><strong>theta_y</strong> – angle in y-direction on the image</li>
<li><strong>kwargs_lens</strong> – lens model keyword argument list</li>
<li><strong>z_stop</strong> – redshift of the source to stop the backwards ray-tracing</li>
<li><strong>T_z_stop</strong> – optional, transversal angular distance from z=0 to z_stop</li>
<li><strong>T_ij_end</strong> – optional, transversal angular distance between the last lensing plane and the source plane</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dt_geo, dt_shapiro, [days]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.multi_plane_base.MultiPlaneBase.ray_shooting_partial">
<code class="descname">ray_shooting_partial</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>alpha_x</em>, <em>alpha_y</em>, <em>z_start</em>, <em>z_stop</em>, <em>kwargs_lens</em>, <em>include_z_start=False</em>, <em>T_ij_start=None</em>, <em>T_ij_end=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/multi_plane_base.html#MultiPlaneBase.ray_shooting_partial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.multi_plane_base.MultiPlaneBase.ray_shooting_partial" title="Permalink to this definition">¶</a></dt>
<dd><p>ray-tracing through parts of the coin, starting with (x,y) co-moving distances and angles (alpha_x, alpha_y)
at redshift z_start and then backwards to redshift z_stop</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> – co-moving position [Mpc]</li>
<li><strong>y</strong> – co-moving position [Mpc]</li>
<li><strong>alpha_x</strong> – ray angle at z_start [arcsec]</li>
<li><strong>alpha_y</strong> – ray angle at z_start [arcsec]</li>
<li><strong>z_start</strong> – redshift of start of computation</li>
<li><strong>z_stop</strong> – redshift where output is computed</li>
<li><strong>kwargs_lens</strong> – lens model keyword argument list</li>
<li><strong>include_z_start</strong> – bool, if True, includes the computation of the deflection angle at the same redshift as
the start of the ray-tracing. ATTENTION: deflection angles at the same redshift as z_stop will be computed always!
This can lead to duplications in the computation of deflection angles.</li>
<li><strong>T_ij_start</strong> – transverse angular distance between the starting redshift to the first lens plane to follow.
If not set, will compute the distance each time this function gets executed.</li>
<li><strong>T_ij_end</strong> – transverse angular distance between the last lens plane being computed and z_end.
If not set, will compute the distance each time this function gets executed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">co-moving position and angles at redshift z_stop</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.multi_plane_base.MultiPlaneBase.transverse_distance_start_stop">
<code class="descname">transverse_distance_start_stop</code><span class="sig-paren">(</span><em>z_start</em>, <em>z_stop</em>, <em>include_z_start=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/multi_plane_base.html#MultiPlaneBase.transverse_distance_start_stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.multi_plane_base.MultiPlaneBase.transverse_distance_start_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the transverse distance (T_ij) that is required by the ray-tracing between the starting redshift and
the first deflector afterwards and the last deflector before the end of the ray-tracing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>z_start</strong> – redshift of the start of the ray-tracing</li>
<li><strong>z_stop</strong> – stop of ray-tracing</li>
<li><strong>include_z_start</strong> – boolean, if True includes the computation of the starting position if the first
deflector is at z_start</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">T_ij_start, T_ij_end</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lenstronomy.LensModel.profile_integrals">
<span id="lenstronomy-lensmodel-profile-integrals-module"></span><h2>lenstronomy.LensModel.profile_integrals module<a class="headerlink" href="#module-lenstronomy.LensModel.profile_integrals" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="lenstronomy.LensModel.profile_integrals.ProfileIntegrals">
<em class="property">class </em><code class="descclassname">lenstronomy.LensModel.profile_integrals.</code><code class="descname">ProfileIntegrals</code><span class="sig-paren">(</span><em>profile_class</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/profile_integrals.html#ProfileIntegrals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.profile_integrals.ProfileIntegrals" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>class to perform integrals of spherical profiles to compute:
- projected densities
- enclosed densities
- projected enclosed densities</p>
<dl class="method">
<dt id="lenstronomy.LensModel.profile_integrals.ProfileIntegrals.density_2d">
<code class="descname">density_2d</code><span class="sig-paren">(</span><em>r</em>, <em>kwargs_profile</em>, <em>lens_param=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/profile_integrals.html#ProfileIntegrals.density_2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.profile_integrals.ProfileIntegrals.density_2d" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the projected density along the line-of-sight
:param r: radius (arcsec)
:param kwargs_profile: keyword argument list with lens model parameters
:param lens_param: boolean, if True uses the lens model parameterization in computing the 3d density convention and the return is the convergence
:return: 2d projected density at projected radius r</p>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.profile_integrals.ProfileIntegrals.mass_enclosed_2d">
<code class="descname">mass_enclosed_2d</code><span class="sig-paren">(</span><em>r</em>, <em>kwargs_profile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/profile_integrals.html#ProfileIntegrals.mass_enclosed_2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.profile_integrals.ProfileIntegrals.mass_enclosed_2d" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the mass enclosed the projected line-of-sight
:param r: radius (arcsec)
:param kwargs_profile: keyword argument list with lens model parameters
:return: projected mass enclosed radius r</p>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.profile_integrals.ProfileIntegrals.mass_enclosed_3d">
<code class="descname">mass_enclosed_3d</code><span class="sig-paren">(</span><em>r</em>, <em>kwargs_profile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/profile_integrals.html#ProfileIntegrals.mass_enclosed_3d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.profile_integrals.ProfileIntegrals.mass_enclosed_3d" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the mass enclosed within a sphere of radius r
:param r: radius (arcsec)
:param kwargs_profile: keyword argument list with lens model parameters
:return: 3d mass enclosed of r</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lenstronomy.LensModel.profile_list_base">
<span id="lenstronomy-lensmodel-profile-list-base-module"></span><h2>lenstronomy.LensModel.profile_list_base module<a class="headerlink" href="#module-lenstronomy.LensModel.profile_list_base" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="lenstronomy.LensModel.profile_list_base.ProfileListBase">
<em class="property">class </em><code class="descclassname">lenstronomy.LensModel.profile_list_base.</code><code class="descname">ProfileListBase</code><span class="sig-paren">(</span><em>lens_model_list</em>, <em>numerical_alpha_class=None</em>, <em>lens_redshift_list=None</em>, <em>z_source_convention=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/profile_list_base.html#ProfileListBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.profile_list_base.ProfileListBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>class that manages the list of lens model class instances. This class is applicable for single plane and multi
plane lensing</p>
<dl class="method">
<dt id="lenstronomy.LensModel.profile_list_base.ProfileListBase.set_dynamic">
<code class="descname">set_dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/profile_list_base.html#ProfileListBase.set_dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.profile_list_base.ProfileListBase.set_dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>frees cache set by static model (if exists) and re-computes all lensing quantities each time a definition is
called assuming different parameters are executed. This is the default mode if not specified as set_static()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.profile_list_base.ProfileListBase.set_static">
<code class="descname">set_static</code><span class="sig-paren">(</span><em>kwargs_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/profile_list_base.html#ProfileListBase.set_static"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.profile_list_base.ProfileListBase.set_static" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs_list</strong> – list of keyword arguments for each profile</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">kwargs_list</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lenstronomy.LensModel.single_plane">
<span id="lenstronomy-lensmodel-single-plane-module"></span><h2>lenstronomy.LensModel.single_plane module<a class="headerlink" href="#module-lenstronomy.LensModel.single_plane" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="lenstronomy.LensModel.single_plane.SinglePlane">
<em class="property">class </em><code class="descclassname">lenstronomy.LensModel.single_plane.</code><code class="descname">SinglePlane</code><span class="sig-paren">(</span><em>lens_model_list</em>, <em>numerical_alpha_class=None</em>, <em>lens_redshift_list=None</em>, <em>z_source_convention=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/single_plane.html#SinglePlane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.single_plane.SinglePlane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lenstronomy.LensModel.profile_list_base.ProfileListBase" title="lenstronomy.LensModel.profile_list_base.ProfileListBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">lenstronomy.LensModel.profile_list_base.ProfileListBase</span></code></a></p>
<p>class to handle an arbitrary list of lens models in a single lensing plane</p>
<dl class="method">
<dt id="lenstronomy.LensModel.single_plane.SinglePlane.alpha">
<code class="descname">alpha</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>kwargs</em>, <em>k=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/single_plane.html#SinglePlane.alpha"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.single_plane.SinglePlane.alpha" title="Permalink to this definition">¶</a></dt>
<dd><p>deflection angles
:param x: x-position (preferentially arcsec)
:type x: numpy array
:param y: y-position (preferentially arcsec)
:type y: numpy array
:param kwargs: list of keyword arguments of lens model parameters matching the lens model classes
:param k: only evaluate the k-th lens model
:return: deflection angles in units of arcsec</p>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.single_plane.SinglePlane.density">
<code class="descname">density</code><span class="sig-paren">(</span><em>r</em>, <em>kwargs</em>, <em>bool_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/single_plane.html#SinglePlane.density"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.single_plane.SinglePlane.density" title="Permalink to this definition">¶</a></dt>
<dd><p>3d mass density at radius r
The integral in the LOS projection of this quantity results in the convergence quantity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>r</strong> – radius (in angular units)</li>
<li><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</li>
<li><strong>bool_list</strong> – list of bools that are part of the output</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">mass density at radius r (in angular units, modulo epsilon_crit)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.single_plane.SinglePlane.fermat_potential">
<code class="descname">fermat_potential</code><span class="sig-paren">(</span><em>x_image</em>, <em>y_image</em>, <em>kwargs_lens</em>, <em>x_source=None</em>, <em>y_source=None</em>, <em>k=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/single_plane.html#SinglePlane.fermat_potential"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.single_plane.SinglePlane.fermat_potential" title="Permalink to this definition">¶</a></dt>
<dd><p>fermat potential (negative sign means earlier arrival time)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x_image</strong> – image position</li>
<li><strong>y_image</strong> – image position</li>
<li><strong>x_source</strong> – source position</li>
<li><strong>y_source</strong> – source position</li>
<li><strong>kwargs_lens</strong> – list of keyword arguments of lens model parameters matching the lens model classes</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">fermat potential in arcsec**2 without geometry term (second part of Eqn 1 in Suyu et al. 2013) as a list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.single_plane.SinglePlane.hessian">
<code class="descname">hessian</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>kwargs</em>, <em>k=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/single_plane.html#SinglePlane.hessian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.single_plane.SinglePlane.hessian" title="Permalink to this definition">¶</a></dt>
<dd><p>hessian matrix
:param x: x-position (preferentially arcsec)
:type x: numpy array
:param y: y-position (preferentially arcsec)
:type y: numpy array
:param kwargs: list of keyword arguments of lens model parameters matching the lens model classes
:param k: only evaluate the k-th lens model
:return: f_xx, f_xy, f_yx, f_yy components</p>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.single_plane.SinglePlane.mass_2d">
<code class="descname">mass_2d</code><span class="sig-paren">(</span><em>r</em>, <em>kwargs</em>, <em>bool_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/single_plane.html#SinglePlane.mass_2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.single_plane.SinglePlane.mass_2d" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the mass enclosed a projected (2d) radius r</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>r</strong> – radius (in angular units)</li>
<li><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</li>
<li><strong>bool_list</strong> – list of bools that are part of the output</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">projected mass (in angular units, modulo epsilon_crit)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.single_plane.SinglePlane.mass_3d">
<code class="descname">mass_3d</code><span class="sig-paren">(</span><em>r</em>, <em>kwargs</em>, <em>bool_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/single_plane.html#SinglePlane.mass_3d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.single_plane.SinglePlane.mass_3d" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the mass within a 3d sphere of radius r</p>
<p>if you want to have physical units of kg, you need to multiply by this factor:
const.arcsec ** 2 * self._cosmo.dd * self._cosmo.ds / self._cosmo.dds * const.Mpc * const.c ** 2 / (4 * np.pi * const.G)
grav_pot = -const.G * mass_dim / (r * const.arcsec * self._cosmo.dd * const.Mpc)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>r</strong> – radius (in angular units)</li>
<li><strong>kwargs</strong> – list of keyword arguments of lens model parameters matching the lens model classes</li>
<li><strong>bool_list</strong> – list of bools that are part of the output</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">mass (in angular units, modulo epsilon_crit)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.single_plane.SinglePlane.potential">
<code class="descname">potential</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>kwargs</em>, <em>k=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/single_plane.html#SinglePlane.potential"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.single_plane.SinglePlane.potential" title="Permalink to this definition">¶</a></dt>
<dd><p>lensing potential
:param x: x-position (preferentially arcsec)
:type x: numpy array
:param y: y-position (preferentially arcsec)
:type y: numpy array
:param kwargs: list of keyword arguments of lens model parameters matching the lens model classes
:param k: only evaluate the k-th lens model
:return: lensing potential in units of arcsec^2</p>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.LensModel.single_plane.SinglePlane.ray_shooting">
<code class="descname">ray_shooting</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>kwargs</em>, <em>k=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/LensModel/single_plane.html#SinglePlane.ray_shooting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.LensModel.single_plane.SinglePlane.ray_shooting" title="Permalink to this definition">¶</a></dt>
<dd><p>maps image to source position (inverse deflection)
:param x: x-position (preferentially arcsec)
:type x: numpy array
:param y: y-position (preferentially arcsec)
:type y: numpy array
:param kwargs: list of keyword arguments of lens model parameters matching the lens model classes
:param k: only evaluate the k-th lens model
:return: source plane positions corresponding to (x, y) in the image plane</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lenstronomy.LensModel">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-lenstronomy.LensModel" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">lenstronomy.LensModel package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-lenstronomy.LensModel.convergence_integrals">lenstronomy.LensModel.convergence_integrals module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.LensModel.lens_model">lenstronomy.LensModel.lens_model module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.LensModel.lens_model_extensions">lenstronomy.LensModel.lens_model_extensions module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.LensModel.lens_param">lenstronomy.LensModel.lens_param module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.LensModel.multi_plane">lenstronomy.LensModel.multi_plane module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.LensModel.multi_plane_base">lenstronomy.LensModel.multi_plane_base module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.LensModel.profile_integrals">lenstronomy.LensModel.profile_integrals module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.LensModel.profile_list_base">lenstronomy.LensModel.profile_list_base module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.LensModel.single_plane">lenstronomy.LensModel.single_plane module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.LensModel">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="lenstronomy.ImSim.Numerics.html"
                        title="previous chapter">lenstronomy.ImSim.Numerics package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="lenstronomy.LensModel.LightConeSim.html"
                        title="next chapter">lenstronomy.LensModel.LightConeSim package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/lenstronomy.LensModel.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="lenstronomy.LensModel.LightConeSim.html" title="lenstronomy.LensModel.LightConeSim package"
             >next</a> |</li>
        <li class="right" >
          <a href="lenstronomy.ImSim.Numerics.html" title="lenstronomy.ImSim.Numerics package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">lenstronomy 1.8.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="lenstronomy.html" >lenstronomy package</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Simon Birrer and contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.0.
    </div>
  </body>
</html>